<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Example: deterministic to stochastic · SDDP.jl</title><meta name="title" content="Example: deterministic to stochastic · SDDP.jl"/><meta property="og:title" content="Example: deterministic to stochastic · SDDP.jl"/><meta property="twitter:title" content="Example: deterministic to stochastic · SDDP.jl"/><meta name="description" content="Documentation for SDDP.jl."/><meta property="og:description" content="Documentation for SDDP.jl."/><meta property="twitter:description" content="Documentation for SDDP.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="SDDP.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">SDDP.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox" checked/><label class="tocitem" for="menuitem-2"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../first_steps/">An introduction to SDDP.jl</a></li><li><a class="tocitem" href="../objective_uncertainty/">Uncertainty in the objective function</a></li><li><a class="tocitem" href="../markov_uncertainty/">Markovian policy graphs</a></li><li><a class="tocitem" href="../plotting/">Plotting tools</a></li><li><a class="tocitem" href="../warnings/">Words of warning</a></li><li><a class="tocitem" href="../arma/">Auto-regressive stochastic processes</a></li><li><a class="tocitem" href="../decision_hazard/">Here-and-now and hazard-decision</a></li><li><a class="tocitem" href="../objective_states/">Objective states</a></li><li><a class="tocitem" href="../pglib_opf/">Alternative forward models</a></li><li><a class="tocitem" href="../mdps/">Example: Markov Decision Processes</a></li><li><a class="tocitem" href="../example_newsvendor/">Example: Two-stage Newsvendor</a></li><li class="is-active"><a class="tocitem" href>Example: deterministic to stochastic</a><ul class="internal"><li><a class="tocitem" href="#Packages"><span>Packages</span></a></li><li><a class="tocitem" href="#Data"><span>Data</span></a></li><li><a class="tocitem" href="#Deterministic-JuMP-model"><span>Deterministic JuMP model</span></a></li><li><a class="tocitem" href="#Deterministic-SDDP-model"><span>Deterministic SDDP model</span></a></li><li><a class="tocitem" href="#Stochastic-SDDP-model"><span>Stochastic SDDP model</span></a></li><li><a class="tocitem" href="#Next-steps"><span>Next steps</span></a></li></ul></li><li><a class="tocitem" href="../example_milk_producer/">Example: the milk producer</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">How-to guides</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../guides/access_previous_variables/">Access variables from a previous stage</a></li><li><a class="tocitem" href="../../guides/add_a_multidimensional_state_variable/">Add a multi-dimensional state variable</a></li><li><a class="tocitem" href="../../guides/add_a_risk_measure/">Add a risk measure</a></li><li><a class="tocitem" href="../../guides/add_integrality/">Integrality</a></li><li><a class="tocitem" href="../../guides/add_multidimensional_noise/">Add multi-dimensional noise terms</a></li><li><a class="tocitem" href="../../guides/add_noise_in_the_constraint_matrix/">Add noise in the constraint matrix</a></li><li><a class="tocitem" href="../../guides/choose_a_stopping_rule/">Choose a stopping rule</a></li><li><a class="tocitem" href="../../guides/create_a_general_policy_graph/">Create a general policy graph</a></li><li><a class="tocitem" href="../../guides/debug_a_model/">Debug a model</a></li><li><a class="tocitem" href="../../guides/improve_computational_performance/">Improve computational performance</a></li><li><a class="tocitem" href="../../guides/simulate_using_a_different_sampling_scheme/">Simulate using a different sampling scheme</a></li><li><a class="tocitem" href="../../guides/create_a_belief_state/">Create a belief state</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Explanation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../explanation/theory_intro/">Introductory theory</a></li><li><a class="tocitem" href="../../explanation/risk/">Risk aversion</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/FAST_hydro_thermal/">FAST: the hydro-thermal problem</a></li><li><a class="tocitem" href="../../examples/FAST_production_management/">FAST: the production management problem</a></li><li><a class="tocitem" href="../../examples/FAST_quickstart/">FAST: the quickstart problem</a></li><li><a class="tocitem" href="../../examples/Hydro_thermal/">Hydro-thermal scheduling</a></li><li><a class="tocitem" href="../../examples/StochDynamicProgramming.jl_multistock/">StochDynamicProgramming: the multistock problem</a></li><li><a class="tocitem" href="../../examples/StochDynamicProgramming.jl_stock/">StochDynamicProgramming: the stock problem</a></li><li><a class="tocitem" href="../../examples/StructDualDynProg.jl_prob5.2_2stages/">StructDualDynProg: Problem 5.2, 2 stages</a></li><li><a class="tocitem" href="../../examples/StructDualDynProg.jl_prob5.2_3stages/">StructDualDynProg: Problem 5.2, 3 stages</a></li><li><a class="tocitem" href="../../examples/agriculture_mccardle_farm/">The farm planning problem</a></li><li><a class="tocitem" href="../../examples/air_conditioning/">Air conditioning</a></li><li><a class="tocitem" href="../../examples/air_conditioning_forward/">Training with a different forward model</a></li><li><a class="tocitem" href="../../examples/all_blacks/">Deterministic All Blacks</a></li><li><a class="tocitem" href="../../examples/asset_management_simple/">Asset management</a></li><li><a class="tocitem" href="../../examples/asset_management_stagewise/">Asset management with modifications</a></li><li><a class="tocitem" href="../../examples/belief/">Partially observable inventory management</a></li><li><a class="tocitem" href="../../examples/biobjective_hydro/">Biobjective hydro-thermal</a></li><li><a class="tocitem" href="../../examples/booking_management/">Booking management</a></li><li><a class="tocitem" href="../../examples/generation_expansion/">Generation expansion</a></li><li><a class="tocitem" href="../../examples/hydro_valley/">Hydro valleys</a></li><li><a class="tocitem" href="../../examples/infinite_horizon_hydro_thermal/">Infinite horizon hydro-thermal</a></li><li><a class="tocitem" href="../../examples/infinite_horizon_trivial/">Infinite horizon trivial</a></li><li><a class="tocitem" href="../../examples/no_strong_duality/">No strong duality</a></li><li><a class="tocitem" href="../../examples/objective_state_newsvendor/">Newsvendor</a></li><li><a class="tocitem" href="../../examples/sldp_example_one/">SLDP: example 1</a></li><li><a class="tocitem" href="../../examples/sldp_example_two/">SLDP: example 2</a></li><li><a class="tocitem" href="../../examples/stochastic_all_blacks/">Stochastic All Blacks</a></li><li><a class="tocitem" href="../../examples/the_farmers_problem/">The farmer&#39;s problem</a></li><li><a class="tocitem" href="../../examples/vehicle_location/">Vehicle location</a></li></ul></li><li><a class="tocitem" href="../../apireference/">API Reference</a></li><li><a class="tocitem" href="../../release_notes/">Release notes</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>Example: deterministic to stochastic</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Example: deterministic to stochastic</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/odow/SDDP.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/odow/SDDP.jl/blob/master/docs/src/tutorial/example_reservoir.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Example:-deterministic-to-stochastic"><a class="docs-heading-anchor" href="#Example:-deterministic-to-stochastic">Example: deterministic to stochastic</a><a id="Example:-deterministic-to-stochastic-1"></a><a class="docs-heading-anchor-permalink" href="#Example:-deterministic-to-stochastic" title="Permalink"></a></h1><p><a href="https://mybinder.org/v2/gh/odow/SDDP.jl/gh-pages?filepath=v1.6.4/tutorial/example_reservoir.ipynb"><img src="https://mybinder.org/badge_logo.svg" alt/></a> <a href="https://nbviewer.jupyter.org/github/odow/SDDP.jl/blob/gh-pages/v1.6.4/tutorial/example_reservoir.ipynb"><img src="https://img.shields.io/badge/show-nbviewer-579ACA.svg" alt/></a></p><p><em>This tutorial was written by Oscar Dowson and Andy Philpott for the 2023 Winter School &quot;Planning under Uncertainty in Energy Markets,&quot; held March 26 to 31 in Geilo, Norway.</em></p><p>The purpose of this tutorial is to explain how we can go from a deterministic time-staged optimal control model in JuMP to a multistage stochastic optimization model in <code>SDDP.jl</code>. As a motivating problem, we consider the hydro-thermal problem with a single reservoir.</p><p>For variations on this problem, see the examples and tutorials:</p><ul><li><a href="../first_steps/#An-introduction-to-SDDP.jl">An introduction to SDDP.jl</a></li><li><a href="../../examples/Hydro_thermal/#Hydro-thermal-scheduling">Hydro-thermal scheduling</a></li><li><a href="../../examples/hydro_valley/#Hydro-valleys">Hydro valleys</a></li><li><a href="../../examples/infinite_horizon_hydro_thermal/#Infinite-horizon-hydro-thermal">Infinite horizon hydro-thermal</a></li></ul><h2 id="Packages"><a class="docs-heading-anchor" href="#Packages">Packages</a><a id="Packages-1"></a><a class="docs-heading-anchor-permalink" href="#Packages" title="Permalink"></a></h2><p>This tutorial requires the following packages:</p><pre><code class="language-julia hljs">using JuMP
using SDDP
import CSV
import DataFrames
import HiGHS
import Plots</code></pre><h2 id="Data"><a class="docs-heading-anchor" href="#Data">Data</a><a id="Data-1"></a><a class="docs-heading-anchor-permalink" href="#Data" title="Permalink"></a></h2><p>First, we need some data for the problem. For this tutorial, we&#39;ll write CSV files to a temporary directory from Julia. If you have an existing file, you could change the filename to point to that instead.</p><pre><code class="language-julia hljs">dir = mktempdir()
filename = joinpath(dir, &quot;example_reservoir.csv&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;/tmp/jl_J7Kw6d/example_reservoir.csv&quot;</code></pre><p>Here is the data</p><pre><code class="language-julia hljs">csv_data = &quot;&quot;&quot;
week,inflow,demand,cost
1,3,7,10.2\n2,2,7.1,10.4\n3,3,7.2,10.6\n4,2,7.3,10.9\n5,3,7.4,11.2\n
6,2,7.6,11.5\n7,3,7.8,11.9\n8,2,8.1,12.3\n9,3,8.3,12.7\n10,2,8.6,13.1\n
11,3,8.9,13.6\n12,2,9.2,14\n13,3,9.5,14.5\n14,2,9.8,14.9\n15,3,10.1,15.3\n
16,2,10.4,15.8\n17,3,10.7,16.2\n18,2,10.9,16.6\n19,3,11.2,17\n20,3,11.4,17.4\n
21,3,11.6,17.7\n22,2,11.7,18\n23,3,11.8,18.3\n24,2,11.9,18.5\n25,3,12,18.7\n
26,2,12,18.9\n27,3,12,19\n28,2,11.9,19.1\n29,3,11.8,19.2\n30,2,11.7,19.2\n
31,3,11.6,19.2\n32,2,11.4,19.2\n33,3,11.2,19.1\n34,2,10.9,19\n35,3,10.7,18.9\n
36,2,10.4,18.8\n37,3,10.1,18.6\n38,2,9.8,18.5\n39,3,9.5,18.4\n40,3,9.2,18.2\n
41,2,8.9,18.1\n42,3,8.6,17.9\n43,2,8.3,17.8\n44,3,8.1,17.7\n45,2,7.8,17.6\n
46,3,7.6,17.5\n47,2,7.4,17.5\n48,3,7.3,17.5\n49,2,7.2,17.5\n50,3,7.1,17.6\n
51,3,7,17.7\n52,3,7,17.8\n
&quot;&quot;&quot;
write(filename, csv_data);</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">755</code></pre><p>And here we read it into a DataFrame:</p><pre><code class="language-julia hljs">data = CSV.read(filename, DataFrames.DataFrame)</code></pre><div><div style = "float: left;"><span>52×4 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">week</th><th style = "text-align: left;">inflow</th><th style = "text-align: left;">demand</th><th style = "text-align: left;">cost</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">1</td><td style = "text-align: right;">3</td><td style = "text-align: right;">7.0</td><td style = "text-align: right;">10.2</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">2</td><td style = "text-align: right;">2</td><td style = "text-align: right;">7.1</td><td style = "text-align: right;">10.4</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">3</td><td style = "text-align: right;">3</td><td style = "text-align: right;">7.2</td><td style = "text-align: right;">10.6</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: right;">4</td><td style = "text-align: right;">2</td><td style = "text-align: right;">7.3</td><td style = "text-align: right;">10.9</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: right;">5</td><td style = "text-align: right;">3</td><td style = "text-align: right;">7.4</td><td style = "text-align: right;">11.2</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">6</td><td style = "text-align: right;">6</td><td style = "text-align: right;">2</td><td style = "text-align: right;">7.6</td><td style = "text-align: right;">11.5</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">7</td><td style = "text-align: right;">7</td><td style = "text-align: right;">3</td><td style = "text-align: right;">7.8</td><td style = "text-align: right;">11.9</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">8</td><td style = "text-align: right;">8</td><td style = "text-align: right;">2</td><td style = "text-align: right;">8.1</td><td style = "text-align: right;">12.3</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">9</td><td style = "text-align: right;">9</td><td style = "text-align: right;">3</td><td style = "text-align: right;">8.3</td><td style = "text-align: right;">12.7</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">10</td><td style = "text-align: right;">10</td><td style = "text-align: right;">2</td><td style = "text-align: right;">8.6</td><td style = "text-align: right;">13.1</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">11</td><td style = "text-align: right;">11</td><td style = "text-align: right;">3</td><td style = "text-align: right;">8.9</td><td style = "text-align: right;">13.6</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">12</td><td style = "text-align: right;">12</td><td style = "text-align: right;">2</td><td style = "text-align: right;">9.2</td><td style = "text-align: right;">14.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">13</td><td style = "text-align: right;">13</td><td style = "text-align: right;">3</td><td style = "text-align: right;">9.5</td><td style = "text-align: right;">14.5</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">14</td><td style = "text-align: right;">14</td><td style = "text-align: right;">2</td><td style = "text-align: right;">9.8</td><td style = "text-align: right;">14.9</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">15</td><td style = "text-align: right;">15</td><td style = "text-align: right;">3</td><td style = "text-align: right;">10.1</td><td style = "text-align: right;">15.3</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">16</td><td style = "text-align: right;">16</td><td style = "text-align: right;">2</td><td style = "text-align: right;">10.4</td><td style = "text-align: right;">15.8</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">17</td><td style = "text-align: right;">17</td><td style = "text-align: right;">3</td><td style = "text-align: right;">10.7</td><td style = "text-align: right;">16.2</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">18</td><td style = "text-align: right;">18</td><td style = "text-align: right;">2</td><td style = "text-align: right;">10.9</td><td style = "text-align: right;">16.6</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">19</td><td style = "text-align: right;">19</td><td style = "text-align: right;">3</td><td style = "text-align: right;">11.2</td><td style = "text-align: right;">17.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">20</td><td style = "text-align: right;">20</td><td style = "text-align: right;">3</td><td style = "text-align: right;">11.4</td><td style = "text-align: right;">17.4</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">21</td><td style = "text-align: right;">21</td><td style = "text-align: right;">3</td><td style = "text-align: right;">11.6</td><td style = "text-align: right;">17.7</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">22</td><td style = "text-align: right;">22</td><td style = "text-align: right;">2</td><td style = "text-align: right;">11.7</td><td style = "text-align: right;">18.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">23</td><td style = "text-align: right;">23</td><td style = "text-align: right;">3</td><td style = "text-align: right;">11.8</td><td style = "text-align: right;">18.3</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">24</td><td style = "text-align: right;">24</td><td style = "text-align: right;">2</td><td style = "text-align: right;">11.9</td><td style = "text-align: right;">18.5</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">25</td><td style = "text-align: right;">25</td><td style = "text-align: right;">3</td><td style = "text-align: right;">12.0</td><td style = "text-align: right;">18.7</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">26</td><td style = "text-align: right;">26</td><td style = "text-align: right;">2</td><td style = "text-align: right;">12.0</td><td style = "text-align: right;">18.9</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">27</td><td style = "text-align: right;">27</td><td style = "text-align: right;">3</td><td style = "text-align: right;">12.0</td><td style = "text-align: right;">19.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">28</td><td style = "text-align: right;">28</td><td style = "text-align: right;">2</td><td style = "text-align: right;">11.9</td><td style = "text-align: right;">19.1</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">29</td><td style = "text-align: right;">29</td><td style = "text-align: right;">3</td><td style = "text-align: right;">11.8</td><td style = "text-align: right;">19.2</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">30</td><td style = "text-align: right;">30</td><td style = "text-align: right;">2</td><td style = "text-align: right;">11.7</td><td style = "text-align: right;">19.2</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">31</td><td style = "text-align: right;">31</td><td style = "text-align: right;">3</td><td style = "text-align: right;">11.6</td><td style = "text-align: right;">19.2</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">32</td><td style = "text-align: right;">32</td><td style = "text-align: right;">2</td><td style = "text-align: right;">11.4</td><td style = "text-align: right;">19.2</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">33</td><td style = "text-align: right;">33</td><td style = "text-align: right;">3</td><td style = "text-align: right;">11.2</td><td style = "text-align: right;">19.1</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">34</td><td style = "text-align: right;">34</td><td style = "text-align: right;">2</td><td style = "text-align: right;">10.9</td><td style = "text-align: right;">19.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">35</td><td style = "text-align: right;">35</td><td style = "text-align: right;">3</td><td style = "text-align: right;">10.7</td><td style = "text-align: right;">18.9</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">36</td><td style = "text-align: right;">36</td><td style = "text-align: right;">2</td><td style = "text-align: right;">10.4</td><td style = "text-align: right;">18.8</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">37</td><td style = "text-align: right;">37</td><td style = "text-align: right;">3</td><td style = "text-align: right;">10.1</td><td style = "text-align: right;">18.6</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">38</td><td style = "text-align: right;">38</td><td style = "text-align: right;">2</td><td style = "text-align: right;">9.8</td><td style = "text-align: right;">18.5</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">39</td><td style = "text-align: right;">39</td><td style = "text-align: right;">3</td><td style = "text-align: right;">9.5</td><td style = "text-align: right;">18.4</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">40</td><td style = "text-align: right;">40</td><td style = "text-align: right;">3</td><td style = "text-align: right;">9.2</td><td style = "text-align: right;">18.2</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">41</td><td style = "text-align: right;">41</td><td style = "text-align: right;">2</td><td style = "text-align: right;">8.9</td><td style = "text-align: right;">18.1</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">42</td><td style = "text-align: right;">42</td><td style = "text-align: right;">3</td><td style = "text-align: right;">8.6</td><td style = "text-align: right;">17.9</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">43</td><td style = "text-align: right;">43</td><td style = "text-align: right;">2</td><td style = "text-align: right;">8.3</td><td style = "text-align: right;">17.8</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">44</td><td style = "text-align: right;">44</td><td style = "text-align: right;">3</td><td style = "text-align: right;">8.1</td><td style = "text-align: right;">17.7</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">45</td><td style = "text-align: right;">45</td><td style = "text-align: right;">2</td><td style = "text-align: right;">7.8</td><td style = "text-align: right;">17.6</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">46</td><td style = "text-align: right;">46</td><td style = "text-align: right;">3</td><td style = "text-align: right;">7.6</td><td style = "text-align: right;">17.5</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">47</td><td style = "text-align: right;">47</td><td style = "text-align: right;">2</td><td style = "text-align: right;">7.4</td><td style = "text-align: right;">17.5</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">48</td><td style = "text-align: right;">48</td><td style = "text-align: right;">3</td><td style = "text-align: right;">7.3</td><td style = "text-align: right;">17.5</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">49</td><td style = "text-align: right;">49</td><td style = "text-align: right;">2</td><td style = "text-align: right;">7.2</td><td style = "text-align: right;">17.5</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">50</td><td style = "text-align: right;">50</td><td style = "text-align: right;">3</td><td style = "text-align: right;">7.1</td><td style = "text-align: right;">17.6</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">51</td><td style = "text-align: right;">51</td><td style = "text-align: right;">3</td><td style = "text-align: right;">7.0</td><td style = "text-align: right;">17.7</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">52</td><td style = "text-align: right;">52</td><td style = "text-align: right;">3</td><td style = "text-align: right;">7.0</td><td style = "text-align: right;">17.8</td></tr></tbody></table></div><p>It&#39;s easier to visualize the data if we plot it:</p><pre><code class="language-julia hljs">Plots.plot(
    Plots.plot(data[!, :inflow], ylabel = &quot;Inflow&quot;),
    Plots.plot(data[!, :demand], ylabel = &quot;Demand&quot;),
    Plots.plot(data[!, :cost], ylabel = &quot;Cost&quot;, xlabel = &quot;Week&quot;);
    layout = (3, 1),
    legend = false,
)</code></pre><img src="72201953.svg" alt="Example block output"/><p>The number of weeks will be useful later:</p><pre><code class="language-julia hljs">T = size(data, 1)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">52</code></pre><h2 id="Deterministic-JuMP-model"><a class="docs-heading-anchor" href="#Deterministic-JuMP-model">Deterministic JuMP model</a><a id="Deterministic-JuMP-model-1"></a><a class="docs-heading-anchor-permalink" href="#Deterministic-JuMP-model" title="Permalink"></a></h2><p>To start, we construct a deterministic model in pure JuMP.</p><p>Create a JuMP model, using <code>HiGHS</code> as the optimizer:</p><pre><code class="language-julia hljs">model = Model(HiGHS.Optimizer)
set_silent(model)</code></pre><p><code>x_storage[t]</code>: the amount of water in the reservoir at the start of stage <code>t</code>:</p><pre><code class="language-julia hljs">reservoir_max = 320.0
@variable(model, 0 &lt;= x_storage[1:T+1] &lt;= reservoir_max)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">53-element Vector{VariableRef}:
 x_storage[1]
 x_storage[2]
 x_storage[3]
 x_storage[4]
 x_storage[5]
 x_storage[6]
 x_storage[7]
 x_storage[8]
 x_storage[9]
 x_storage[10]
 ⋮
 x_storage[45]
 x_storage[46]
 x_storage[47]
 x_storage[48]
 x_storage[49]
 x_storage[50]
 x_storage[51]
 x_storage[52]
 x_storage[53]</code></pre><p>We need an initial condition for <code>x_storage[1]</code>. Fix it to 300 units:</p><pre><code class="language-julia hljs">reservoir_initial = 300
fix(x_storage[1], reservoir_initial; force = true)</code></pre><p><code>u_flow[t]</code>: the amount of water to flow through the turbine in stage <code>t</code>:</p><pre><code class="language-julia hljs">flow_max = 12
@variable(model, 0 &lt;= u_flow[1:T] &lt;= flow_max)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">52-element Vector{VariableRef}:
 u_flow[1]
 u_flow[2]
 u_flow[3]
 u_flow[4]
 u_flow[5]
 u_flow[6]
 u_flow[7]
 u_flow[8]
 u_flow[9]
 u_flow[10]
 ⋮
 u_flow[44]
 u_flow[45]
 u_flow[46]
 u_flow[47]
 u_flow[48]
 u_flow[49]
 u_flow[50]
 u_flow[51]
 u_flow[52]</code></pre><p><code>u_spill[t]</code>: the amount of water to spill from the reservoir in stage <code>t</code>, bypassing the turbine:</p><pre><code class="language-julia hljs">@variable(model, 0 &lt;= u_spill[1:T])</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">52-element Vector{VariableRef}:
 u_spill[1]
 u_spill[2]
 u_spill[3]
 u_spill[4]
 u_spill[5]
 u_spill[6]
 u_spill[7]
 u_spill[8]
 u_spill[9]
 u_spill[10]
 ⋮
 u_spill[44]
 u_spill[45]
 u_spill[46]
 u_spill[47]
 u_spill[48]
 u_spill[49]
 u_spill[50]
 u_spill[51]
 u_spill[52]</code></pre><p><code>u_thermal[t]</code>: the amount of thermal generation in stage <code>t</code>:</p><pre><code class="language-julia hljs">@variable(model, 0 &lt;= u_thermal[1:T])</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">52-element Vector{VariableRef}:
 u_thermal[1]
 u_thermal[2]
 u_thermal[3]
 u_thermal[4]
 u_thermal[5]
 u_thermal[6]
 u_thermal[7]
 u_thermal[8]
 u_thermal[9]
 u_thermal[10]
 ⋮
 u_thermal[44]
 u_thermal[45]
 u_thermal[46]
 u_thermal[47]
 u_thermal[48]
 u_thermal[49]
 u_thermal[50]
 u_thermal[51]
 u_thermal[52]</code></pre><p><code>ω_inflow[t]</code>: the amount of inflow to the reservoir in stage <code>t</code>:</p><pre><code class="language-julia hljs">@variable(model, ω_inflow[1:T])</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">52-element Vector{VariableRef}:
 ω_inflow[1]
 ω_inflow[2]
 ω_inflow[3]
 ω_inflow[4]
 ω_inflow[5]
 ω_inflow[6]
 ω_inflow[7]
 ω_inflow[8]
 ω_inflow[9]
 ω_inflow[10]
 ⋮
 ω_inflow[44]
 ω_inflow[45]
 ω_inflow[46]
 ω_inflow[47]
 ω_inflow[48]
 ω_inflow[49]
 ω_inflow[50]
 ω_inflow[51]
 ω_inflow[52]</code></pre><p>For this model, our inflow is fixed, so we fix it to the data we have:</p><pre><code class="language-julia hljs">for t in 1:T
    fix(ω_inflow[t], data[t, :inflow])
end</code></pre><p>The water balance constraint says that the water in the reservoir at the start of stage <code>t+1</code> is the water in the reservoir at the start of stage <code>t</code>, less the amount flowed through the turbine, <code>u_flow[t]</code>, less the amount spilled, <code>u_spill[t]</code>, plus the amount of inflow, <code>ω_inflow[t]</code>, into the reservoir:</p><pre><code class="language-julia hljs">@constraint(
    model,
    [t in 1:T],
    x_storage[t+1] == x_storage[t] - u_flow[t] - u_spill[t] + ω_inflow[t],
)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">52-element Vector{ConstraintRef{Model, MathOptInterface.ConstraintIndex{MathOptInterface.ScalarAffineFunction{Float64}, MathOptInterface.EqualTo{Float64}}, ScalarShape}}:
 -x_storage[1] + x_storage[2] + u_flow[1] + u_spill[1] - ω_inflow[1] = 0
 -x_storage[2] + x_storage[3] + u_flow[2] + u_spill[2] - ω_inflow[2] = 0
 -x_storage[3] + x_storage[4] + u_flow[3] + u_spill[3] - ω_inflow[3] = 0
 -x_storage[4] + x_storage[5] + u_flow[4] + u_spill[4] - ω_inflow[4] = 0
 -x_storage[5] + x_storage[6] + u_flow[5] + u_spill[5] - ω_inflow[5] = 0
 -x_storage[6] + x_storage[7] + u_flow[6] + u_spill[6] - ω_inflow[6] = 0
 -x_storage[7] + x_storage[8] + u_flow[7] + u_spill[7] - ω_inflow[7] = 0
 -x_storage[8] + x_storage[9] + u_flow[8] + u_spill[8] - ω_inflow[8] = 0
 -x_storage[9] + x_storage[10] + u_flow[9] + u_spill[9] - ω_inflow[9] = 0
 -x_storage[10] + x_storage[11] + u_flow[10] + u_spill[10] - ω_inflow[10] = 0
 ⋮
 -x_storage[44] + x_storage[45] + u_flow[44] + u_spill[44] - ω_inflow[44] = 0
 -x_storage[45] + x_storage[46] + u_flow[45] + u_spill[45] - ω_inflow[45] = 0
 -x_storage[46] + x_storage[47] + u_flow[46] + u_spill[46] - ω_inflow[46] = 0
 -x_storage[47] + x_storage[48] + u_flow[47] + u_spill[47] - ω_inflow[47] = 0
 -x_storage[48] + x_storage[49] + u_flow[48] + u_spill[48] - ω_inflow[48] = 0
 -x_storage[49] + x_storage[50] + u_flow[49] + u_spill[49] - ω_inflow[49] = 0
 -x_storage[50] + x_storage[51] + u_flow[50] + u_spill[50] - ω_inflow[50] = 0
 -x_storage[51] + x_storage[52] + u_flow[51] + u_spill[51] - ω_inflow[51] = 0
 -x_storage[52] + x_storage[53] + u_flow[52] + u_spill[52] - ω_inflow[52] = 0</code></pre><p>We also need a <code>supply = demand</code> constraint. In practice, the units of this would be in MWh, and there would be a conversion factor between the amount of water flowing through the turbine and the power output. To simplify, we assume that power and water have the same units, so that one &quot;unit&quot; of demand is equal to one &quot;unit&quot; of the reservoir <code>x_storage[t]</code>:</p><pre><code class="language-julia hljs">@constraint(model, [t in 1:T], u_flow[t] + u_thermal[t] == data[t, :demand])</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">52-element Vector{ConstraintRef{Model, MathOptInterface.ConstraintIndex{MathOptInterface.ScalarAffineFunction{Float64}, MathOptInterface.EqualTo{Float64}}, ScalarShape}}:
 u_flow[1] + u_thermal[1] = 7
 u_flow[2] + u_thermal[2] = 7.1
 u_flow[3] + u_thermal[3] = 7.2
 u_flow[4] + u_thermal[4] = 7.3
 u_flow[5] + u_thermal[5] = 7.4
 u_flow[6] + u_thermal[6] = 7.6
 u_flow[7] + u_thermal[7] = 7.8
 u_flow[8] + u_thermal[8] = 8.1
 u_flow[9] + u_thermal[9] = 8.3
 u_flow[10] + u_thermal[10] = 8.6
 ⋮
 u_flow[44] + u_thermal[44] = 8.1
 u_flow[45] + u_thermal[45] = 7.8
 u_flow[46] + u_thermal[46] = 7.6
 u_flow[47] + u_thermal[47] = 7.4
 u_flow[48] + u_thermal[48] = 7.3
 u_flow[49] + u_thermal[49] = 7.2
 u_flow[50] + u_thermal[50] = 7.1
 u_flow[51] + u_thermal[51] = 7
 u_flow[52] + u_thermal[52] = 7</code></pre><p>Our objective is to minimize the cost of thermal generation:</p><pre><code class="language-julia hljs">@objective(model, Min, sum(data[t, :cost] * u_thermal[t] for t in 1:T))</code></pre><p>$ 10.2 u_thermal<em>{1} + 10.4 u\</em>thermal<em>{2} + 10.6 u\</em>thermal<em>{3} + 10.9 u\</em>thermal<em>{4} + 11.2 u\</em>thermal<em>{5} + 11.5 u\</em>thermal<em>{6} + 11.9 u\</em>thermal<em>{7} + 12.3 u\</em>thermal<em>{8} + 12.7 u\</em>thermal<em>{9} + 13.1 u\</em>thermal<em>{10} + 13.6 u\</em>thermal<em>{11} + 14 u\</em>thermal<em>{12} + 14.5 u\</em>thermal<em>{13} + 14.9 u\</em>thermal<em>{14} + 15.3 u\</em>thermal<em>{15} + 15.8 u\</em>thermal<em>{16} + 16.2 u\</em>thermal<em>{17} + 16.6 u\</em>thermal<em>{18} + 17 u\</em>thermal<em>{19} + 17.4 u\</em>thermal<em>{20} + 17.7 u\</em>thermal<em>{21} + 18 u\</em>thermal<em>{22} + 18.3 u\</em>thermal<em>{23} + 18.5 u\</em>thermal<em>{24} + 18.7 u\</em>thermal<em>{25} + 18.9 u\</em>thermal<em>{26} + 19 u\</em>thermal<em>{27} + 19.1 u\</em>thermal<em>{28} + 19.2 u\</em>thermal<em>{29} + 19.2 u\</em>thermal<em>{30} + 19.2 u\</em>thermal<em>{31} + 19.2 u\</em>thermal<em>{32} + 19.1 u\</em>thermal<em>{33} + 19 u\</em>thermal<em>{34} + 18.9 u\</em>thermal<em>{35} + 18.8 u\</em>thermal<em>{36} + 18.6 u\</em>thermal<em>{37} + 18.5 u\</em>thermal<em>{38} + 18.4 u\</em>thermal<em>{39} + 18.2 u\</em>thermal<em>{40} + 18.1 u\</em>thermal<em>{41} + 17.9 u\</em>thermal<em>{42} + 17.8 u\</em>thermal<em>{43} + 17.7 u\</em>thermal<em>{44} + 17.6 u\</em>thermal<em>{45} + 17.5 u\</em>thermal<em>{46} + 17.5 u\</em>thermal<em>{47} + 17.5 u\</em>thermal<em>{48} + 17.5 u\</em>thermal<em>{49} + 17.6 u\</em>thermal<em>{50} + 17.7 u\</em>thermal<em>{51} + 17.8 u\</em>thermal_{52} $</p><p>Let&#39;s optimize and check the solution</p><pre><code class="language-julia hljs">optimize!(model)
solution_summary(model)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">* Solver : HiGHS

* Status
  Result count       : 1
  Termination status : OPTIMAL
  Message from the solver:
  &quot;kHighsModelStatusOptimal&quot;

* Candidate solution (result #1)
  Primal status      : FEASIBLE_POINT
  Dual status        : FEASIBLE_POINT
  Objective value    : 6.82910e+02
  Objective bound    : 0.00000e+00
  Relative gap       : Inf
  Dual objective value : 6.82910e+02

* Work counters
  Solve time (sec)   : 1.04880e-03
  Simplex iterations : 53
  Barrier iterations : 0
  Node count         : -1
</code></pre><p>The total cost is:</p><pre><code class="language-julia hljs">objective_value(model)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">682.9099999999999</code></pre><p>Here&#39;s a plot of demand and generation:</p><pre><code class="language-julia hljs">Plots.plot(data[!, :demand]; label = &quot;Demand&quot;, xlabel = &quot;Week&quot;)
Plots.plot!(value.(u_thermal), label = &quot;Thermal&quot;)
Plots.plot!(value.(u_flow), label = &quot;Hydro&quot;)</code></pre><img src="83dd39fb.svg" alt="Example block output"/><p>And here&#39;s the storage over time:</p><pre><code class="language-julia hljs">Plots.plot(value.(x_storage); label = &quot;Storage&quot;, xlabel = &quot;Week&quot;)</code></pre><img src="e0b2fa5b.svg" alt="Example block output"/><h2 id="Deterministic-SDDP-model"><a class="docs-heading-anchor" href="#Deterministic-SDDP-model">Deterministic SDDP model</a><a id="Deterministic-SDDP-model-1"></a><a class="docs-heading-anchor-permalink" href="#Deterministic-SDDP-model" title="Permalink"></a></h2><p>For the next step, we show how to decompose our JuMP model into SDDP.jl. It should obtain the same solution.</p><pre><code class="language-julia hljs">model = SDDP.LinearPolicyGraph(
    stages = T,
    sense = :Min,
    lower_bound = 0.0,
    optimizer = HiGHS.Optimizer,
) do sp, t
    @variable(
        sp,
        0 &lt;= x_storage &lt;= reservoir_max,
        SDDP.State,
        initial_value = reservoir_initial,
    )
    @variable(sp, 0 &lt;= u_flow &lt;= flow_max)
    @variable(sp, 0 &lt;= u_thermal)
    @variable(sp, 0 &lt;= u_spill)
    @variable(sp, ω_inflow)
    fix(ω_inflow, data[t, :inflow])
    @constraint(sp, x_storage.out == x_storage.in - u_flow - u_spill + ω_inflow)
    @constraint(sp, u_flow + u_thermal == data[t, :demand])
    @stageobjective(sp, data[t, :cost] * u_thermal)
    return
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">A policy graph with 52 nodes.
 Node indices: 1, ..., 52
</code></pre><p>Can you see how the JuMP model maps to this syntax? We have created a <a href="../../apireference/#SDDP.LinearPolicyGraph"><code>SDDP.LinearPolicyGraph</code></a> with <code>T</code> stages, we&#39;re minimizing, and we&#39;re using <code>HiGHS.Optimizer</code> as the optimizer.</p><p>A few bits might be non-obvious:</p><ul><li>We need to provide a lower bound for the objective function. Since our costs are always positive, a valid lower bound for the total cost is <code>0.0</code>.</li><li>We define <code>x_storage</code> as a state variable using <code>SDDP.State</code>. A state variable is any variable that flows through time, and for which we need to know the value of it in stage <code>t-1</code> to compute the best action in stage <code>t</code>. The state variable <code>x_storage</code> is actually two decision variables, <code>x_storage.in</code> and <code>x_storage.out</code>, which represent <code>x_storage[t]</code> and <code>x_storage[t+1]</code> respectively.</li><li>We need to use <code>@stageobjective</code> instead of <code>@objective</code>.</li></ul><p>Instead of calling <code>JuMP.optimize!</code>, SDDP.jl uses a <code>train</code> method. With our machine learning hat on, you can think of SDDP.jl as training a function for each stage that accepts the current reservoir state as input and returns the optimal actions as output. It is also an iterative algorithm, so we need to specify when it should terminate:</p><pre><code class="language-julia hljs">SDDP.train(model; iteration_limit = 10)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">-------------------------------------------------------------------
         SDDP.jl (c) Oscar Dowson and contributors, 2017-23
-------------------------------------------------------------------
problem
  nodes           : 52
  state variables : 1
  scenarios       : 1.00000e+00
  existing cuts   : false
options
  solver          : serial mode
  risk measure    : SDDP.Expectation()
  sampling scheme : SDDP.InSampleMonteCarlo
subproblem structure
  VariableRef                             : [7, 7]
  AffExpr in MOI.EqualTo{Float64}         : [2, 2]
  VariableRef in MOI.EqualTo{Float64}     : [1, 1]
  VariableRef in MOI.GreaterThan{Float64} : [5, 5]
  VariableRef in MOI.LessThan{Float64}    : [2, 3]
numerical stability report
  matrix range     [1e+00, 1e+00]
  objective range  [1e+00, 2e+01]
  bounds range     [1e+01, 3e+02]
  rhs range        [7e+00, 1e+01]
-------------------------------------------------------------------
 iteration    simulation      bound        time (s)     solves  pid
-------------------------------------------------------------------
         1   1.079600e+03  3.157700e+02  4.604197e-02       104   1
        10   6.829100e+02  6.829100e+02  2.118912e-01      1040   1
-------------------------------------------------------------------
status         : iteration_limit
total time (s) : 2.118912e-01
total solves   : 1040
best bound     :  6.829100e+02
simulation ci  :  7.289889e+02 ± 7.726064e+01
numeric issues : 0
-------------------------------------------------------------------</code></pre><p>As a quick sanity check, did we get the same cost as our JuMP model?</p><pre><code class="language-julia hljs">SDDP.calculate_bound(model)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">682.910000000047</code></pre><p>That&#39;s good. Next, to check the value of the decision variables. This isn&#39;t as straight forward as our JuMP model. Instead, we need to <em>simulate</em> the policy, and then extract the values of the decision variables from the results of the simulation.</p><p>Since our model is deterministic, we need only 1 replication of the simulation, and we want to record the values of the <code>x_storage</code>, <code>u_flow</code>, and <code>u_thermal</code> variables:</p><pre><code class="language-julia hljs">simulations = SDDP.simulate(
    model,
    1,  # Number of replications
    [:x_storage, :u_flow, :u_thermal],
);</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1-element Vector{Vector{Dict{Symbol, Any}}}:
 [Dict(:u_flow =&gt; 0.0, :bellman_term =&gt; 611.5100000000471, :noise_term =&gt; nothing, :node_index =&gt; 1, :stage_objective =&gt; 71.39999999999999, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(300.0, 303.0), :u_thermal =&gt; 7.0, :belief =&gt; Dict(1 =&gt; 1.0)), Dict(:u_flow =&gt; 0.0, :bellman_term =&gt; 537.6700000000474, :noise_term =&gt; nothing, :node_index =&gt; 2, :stage_objective =&gt; 73.84, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.0, 305.0), :u_thermal =&gt; 7.1, :belief =&gt; Dict(2 =&gt; 1.0)), Dict(:u_flow =&gt; 0.0, :bellman_term =&gt; 461.35000000004715, :noise_term =&gt; nothing, :node_index =&gt; 3, :stage_objective =&gt; 76.32, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(305.0, 308.0), :u_thermal =&gt; 7.2, :belief =&gt; Dict(3 =&gt; 1.0)), Dict(:u_flow =&gt; 0.0, :bellman_term =&gt; 381.78000000004704, :noise_term =&gt; nothing, :node_index =&gt; 4, :stage_objective =&gt; 79.57000000000001, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(308.0, 310.0), :u_thermal =&gt; 7.3, :belief =&gt; Dict(4 =&gt; 1.0)), Dict(:u_flow =&gt; 0.0, :bellman_term =&gt; 298.9000000000474, :noise_term =&gt; nothing, :node_index =&gt; 5, :stage_objective =&gt; 82.88, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(310.0, 313.0), :u_thermal =&gt; 7.4, :belief =&gt; Dict(5 =&gt; 1.0)), Dict(:u_flow =&gt; 0.0, :bellman_term =&gt; 211.5000000000473, :noise_term =&gt; nothing, :node_index =&gt; 6, :stage_objective =&gt; 87.39999999999999, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(313.0, 315.0), :u_thermal =&gt; 7.6, :belief =&gt; Dict(6 =&gt; 1.0)), Dict(:u_flow =&gt; 0.0, :bellman_term =&gt; 118.68000000004712, :noise_term =&gt; nothing, :node_index =&gt; 7, :stage_objective =&gt; 92.82000000000001, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(315.0, 318.0), :u_thermal =&gt; 7.8, :belief =&gt; Dict(7 =&gt; 1.0)), Dict(:u_flow =&gt; 0.0, :bellman_term =&gt; 19.050000000047476, :noise_term =&gt; nothing, :node_index =&gt; 8, :stage_objective =&gt; 99.63, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(318.0, 320.0), :u_thermal =&gt; 8.1, :belief =&gt; Dict(8 =&gt; 1.0)), Dict(:u_flow =&gt; 6.7999999999963165, :bellman_term =&gt; 0.0, :noise_term =&gt; nothing, :node_index =&gt; 9, :stage_objective =&gt; 19.050000000046786, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(320.0, 316.2000000000037), :u_thermal =&gt; 1.5000000000036842, :belief =&gt; Dict(9 =&gt; 1.0)), Dict(:u_flow =&gt; 8.6, :bellman_term =&gt; 0.0, :noise_term =&gt; nothing, :node_index =&gt; 10, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(316.2000000000037, 309.60000000000366), :u_thermal =&gt; 0.0, :belief =&gt; Dict(10 =&gt; 1.0))  …  Dict(:u_flow =&gt; 8.3, :bellman_term =&gt; 0.0, :noise_term =&gt; nothing, :node_index =&gt; 43, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(48.80000000000368, 42.50000000000368), :u_thermal =&gt; 0.0, :belief =&gt; Dict(43 =&gt; 1.0)), Dict(:u_flow =&gt; 8.1, :bellman_term =&gt; 0.0, :noise_term =&gt; nothing, :node_index =&gt; 44, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(42.50000000000368, 37.40000000000368), :u_thermal =&gt; 0.0, :belief =&gt; Dict(44 =&gt; 1.0)), Dict(:u_flow =&gt; 7.8, :bellman_term =&gt; 0.0, :noise_term =&gt; nothing, :node_index =&gt; 45, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(37.40000000000368, 31.60000000000368), :u_thermal =&gt; 0.0, :belief =&gt; Dict(45 =&gt; 1.0)), Dict(:u_flow =&gt; 7.6, :bellman_term =&gt; 0.0, :noise_term =&gt; nothing, :node_index =&gt; 46, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(31.60000000000368, 27.000000000003674), :u_thermal =&gt; 0.0, :belief =&gt; Dict(46 =&gt; 1.0)), Dict(:u_flow =&gt; 7.4, :bellman_term =&gt; 0.0, :noise_term =&gt; nothing, :node_index =&gt; 47, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(27.000000000003674, 21.600000000003675), :u_thermal =&gt; 0.0, :belief =&gt; Dict(47 =&gt; 1.0)), Dict(:u_flow =&gt; 7.3, :bellman_term =&gt; 0.0, :noise_term =&gt; nothing, :node_index =&gt; 48, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(21.600000000003675, 17.300000000003674), :u_thermal =&gt; 0.0, :belief =&gt; Dict(48 =&gt; 1.0)), Dict(:u_flow =&gt; 7.2, :bellman_term =&gt; 0.0, :noise_term =&gt; nothing, :node_index =&gt; 49, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(17.300000000003674, 12.100000000003675), :u_thermal =&gt; 0.0, :belief =&gt; Dict(49 =&gt; 1.0)), Dict(:u_flow =&gt; 7.1, :bellman_term =&gt; 0.0, :noise_term =&gt; nothing, :node_index =&gt; 50, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(12.100000000003675, 8.000000000003675), :u_thermal =&gt; 0.0, :belief =&gt; Dict(50 =&gt; 1.0)), Dict(:u_flow =&gt; 7.0, :bellman_term =&gt; 0.0, :noise_term =&gt; nothing, :node_index =&gt; 51, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(8.000000000003675, 4.000000000003675), :u_thermal =&gt; 0.0, :belief =&gt; Dict(51 =&gt; 1.0)), Dict(:u_flow =&gt; 7.000000000003675, :bellman_term =&gt; 0.0, :noise_term =&gt; nothing, :node_index =&gt; 52, :stage_objective =&gt; -6.542002495280031e-11, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(4.000000000003675, 0.0), :u_thermal =&gt; -3.675282300719118e-12, :belief =&gt; Dict(52 =&gt; 1.0))]</code></pre><p>The <code>simulations</code> vector is too big to show. But it contains one element for each replication, and each replication contains one dictionary for each stage.</p><p>For example, the data corresponding to the tenth stage in the first replication is:</p><pre><code class="language-julia hljs">simulations[1][10]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Dict{Symbol, Any} with 9 entries:
  :u_flow          =&gt; 8.6
  :bellman_term    =&gt; 0.0
  :noise_term      =&gt; nothing
  :node_index      =&gt; 10
  :stage_objective =&gt; 0.0
  :objective_state =&gt; nothing
  :x_storage       =&gt; State{Float64}(316.2, 309.6)
  :u_thermal       =&gt; 0.0
  :belief          =&gt; Dict(10=&gt;1.0)</code></pre><p>Let&#39;s grab the trace of the <code>u_thermal</code> and <code>u_flow</code> variables in the first replication, and then plot them:</p><pre><code class="language-julia hljs">r_sim = [sim[:u_thermal] for sim in simulations[1]]
u_sim = [sim[:u_flow] for sim in simulations[1]]

Plots.plot(data[!, :demand]; label = &quot;Demand&quot;, xlabel = &quot;Week&quot;)
Plots.plot!(r_sim, label = &quot;Thermal&quot;)
Plots.plot!(u_sim, label = &quot;Hydro&quot;)</code></pre><img src="a612ec95.svg" alt="Example block output"/><p>Perfect. That&#39;s the same as we got before.</p><p>Now let&#39;s look at <code>x_storage</code>. This is a little more complicated, because we need to grab the outgoing value of the state variable in each stage:</p><pre><code class="language-julia hljs">x_sim = [sim[:x_storage].out for sim in simulations[1]]

Plots.plot(x_sim; label = &quot;Storage&quot;, xlabel = &quot;Week&quot;)</code></pre><img src="4c3cac4b.svg" alt="Example block output"/><h2 id="Stochastic-SDDP-model"><a class="docs-heading-anchor" href="#Stochastic-SDDP-model">Stochastic SDDP model</a><a id="Stochastic-SDDP-model-1"></a><a class="docs-heading-anchor-permalink" href="#Stochastic-SDDP-model" title="Permalink"></a></h2><p>Now we add some randomness to our model. In each stage, we assume that the inflow could be: 2 units lower, with 30% probability; the same as before, with 40% probability; or 5 units higher, with 30% probability.</p><pre><code class="language-julia hljs">model = SDDP.LinearPolicyGraph(
    stages = T,
    sense = :Min,
    lower_bound = 0.0,
    optimizer = HiGHS.Optimizer,
) do sp, t
    @variable(
        sp,
        0 &lt;= x_storage &lt;= reservoir_max,
        SDDP.State,
        initial_value = reservoir_initial,
    )
    @variable(sp, 0 &lt;= u_flow &lt;= flow_max)
    @variable(sp, 0 &lt;= u_thermal)
    @variable(sp, 0 &lt;= u_spill)
    @variable(sp, ω_inflow)
    # &lt;--- This bit is new
    Ω, P = [-2, 0, 5], [0.3, 0.4, 0.3]
    SDDP.parameterize(sp, Ω, P) do ω
        fix(ω_inflow, data[t, :inflow] + ω)
        return
    end
    # ---&gt;
    @constraint(sp, x_storage.out == x_storage.in - u_flow - u_spill + ω_inflow)
    @constraint(sp, u_flow + u_thermal == data[t, :demand])
    @stageobjective(sp, data[t, :cost] * u_thermal)
    return
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">A policy graph with 52 nodes.
 Node indices: 1, ..., 52
</code></pre><p>Can you see the differences?</p><p>Let&#39;s train our new model. We need more iterations because of the stochasticity:</p><pre><code class="language-julia hljs">SDDP.train(model; iteration_limit = 100)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">-------------------------------------------------------------------
         SDDP.jl (c) Oscar Dowson and contributors, 2017-23
-------------------------------------------------------------------
problem
  nodes           : 52
  state variables : 1
  scenarios       : 6.46108e+24
  existing cuts   : false
options
  solver          : serial mode
  risk measure    : SDDP.Expectation()
  sampling scheme : SDDP.InSampleMonteCarlo
subproblem structure
  VariableRef                             : [7, 7]
  AffExpr in MOI.EqualTo{Float64}         : [2, 2]
  VariableRef in MOI.GreaterThan{Float64} : [5, 5]
  VariableRef in MOI.LessThan{Float64}    : [2, 3]
numerical stability report
  matrix range     [1e+00, 1e+00]
  objective range  [1e+00, 2e+01]
  bounds range     [1e+01, 3e+02]
  rhs range        [7e+00, 1e+01]
-------------------------------------------------------------------
 iteration    simulation      bound        time (s)     solves  pid
-------------------------------------------------------------------
         1   2.480000e+02  6.865290e+01  5.191684e-02       208   1
        35   8.256175e+01  2.433180e+02  1.080777e+00      7280   1
        64   3.888200e+02  2.578299e+02  2.105804e+00     13312   1
        90   4.035836e+02  2.655635e+02  3.122875e+00     18720   1
       100   3.019740e+02  2.674486e+02  3.534649e+00     20800   1
-------------------------------------------------------------------
status         : iteration_limit
total time (s) : 3.534649e+00
total solves   : 20800
best bound     :  2.674486e+02
simulation ci  :  2.987035e+02 ± 4.359572e+01
numeric issues : 0
-------------------------------------------------------------------</code></pre><p>Now simulate the policy. This time we do 100 replications because the policy is now stochastic instead of deterministic:</p><pre><code class="language-julia hljs">simulations =
    SDDP.simulate(model, 100, [:x_storage, :u_flow, :u_thermal, :ω_inflow]);</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">100-element Vector{Vector{Dict{Symbol, Any}}}:
 [Dict(:u_flow =&gt; 0.0, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 226.26383644201405, :noise_term =&gt; -2, :node_index =&gt; 1, :stage_objective =&gt; 71.39999999999999, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(300.0, 301.0), :u_thermal =&gt; 7.0, :belief =&gt; Dict(1 =&gt; 1.0)…), Dict(:u_flow =&gt; 0.0, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 161.77528113028075, :noise_term =&gt; 0, :node_index =&gt; 2, :stage_objective =&gt; 73.84, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(301.0, 303.0), :u_thermal =&gt; 7.1, :belief =&gt; Dict(2 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 119.78309403961521, :noise_term =&gt; 5, :node_index =&gt; 3, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.0, 303.8), :u_thermal =&gt; 0.0, :belief =&gt; Dict(3 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.29999999999967, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 148.52718657847936, :noise_term =&gt; -2, :node_index =&gt; 4, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.8, 296.50000000000034), :u_thermal =&gt; 0.0, :belief =&gt; Dict(4 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 108.20166398807669, :noise_term =&gt; 5, :node_index =&gt; 5, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(296.50000000000034, 297.10000000000036), :u_thermal =&gt; 0.0, :belief =&gt; Dict(5 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 73.61768573854715, :noise_term =&gt; 5, :node_index =&gt; 6, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(297.10000000000036, 296.50000000000034), :u_thermal =&gt; 0.0, :belief =&gt; Dict(6 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 78.59928603335857, :noise_term =&gt; 0, :node_index =&gt; 7, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(296.50000000000034, 291.70000000000033), :u_thermal =&gt; 0.0, :belief =&gt; Dict(7 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 85.80364141047494, :noise_term =&gt; 0, :node_index =&gt; 8, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(291.70000000000033, 285.6000000000003), :u_thermal =&gt; 0.0, :belief =&gt; Dict(8 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 91.54675306175795, :noise_term =&gt; 0, :node_index =&gt; 9, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(285.6000000000003, 280.3000000000003), :u_thermal =&gt; 0.0, :belief =&gt; Dict(9 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.6, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 116.76521330513015, :noise_term =&gt; -2, :node_index =&gt; 10, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(280.3000000000003, 271.7000000000003), :u_thermal =&gt; 0.0, :belief =&gt; Dict(10 =&gt; 1.0)…)  …  Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 128.82844703701625, :noise_term =&gt; 5, :node_index =&gt; 43, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(29.900000000000276, 28.600000000000275), :u_thermal =&gt; 0.0, :belief =&gt; Dict(43 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 169.45722757119609, :noise_term =&gt; -2, :node_index =&gt; 44, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(28.600000000000275, 21.500000000000277), :u_thermal =&gt; 0.0, :belief =&gt; Dict(44 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 107.56283737999621, :noise_term =&gt; 5, :node_index =&gt; 45, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(21.500000000000277, 20.700000000000276), :u_thermal =&gt; 0.0, :belief =&gt; Dict(45 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 146.90797011999592, :noise_term =&gt; -2, :node_index =&gt; 46, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(20.700000000000276, 14.100000000000277), :u_thermal =&gt; 0.0, :belief =&gt; Dict(46 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 84.89315899999627, :noise_term =&gt; 5, :node_index =&gt; 47, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(14.100000000000277, 13.700000000000278), :u_thermal =&gt; 0.0, :belief =&gt; Dict(47 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.3, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 34.80396799999713, :noise_term =&gt; 5, :node_index =&gt; 48, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(13.700000000000278, 14.40000000000028), :u_thermal =&gt; 0.0, :belief =&gt; Dict(48 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 5.526899999999358, :noise_term =&gt; 5, :node_index =&gt; 49, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(14.40000000000028, 14.20000000000028), :u_thermal =&gt; 0.0, :belief =&gt; Dict(49 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.1, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 14.364599999998376, :noise_term =&gt; -2, :node_index =&gt; 50, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(14.20000000000028, 8.10000000000028), :u_thermal =&gt; 0.0, :belief =&gt; Dict(50 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.0, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 5, :node_index =&gt; 51, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(8.10000000000028, 9.100000000000279), :u_thermal =&gt; 0.0, :belief =&gt; Dict(51 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.0, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 0.0, :noise_term =&gt; -2, :node_index =&gt; 52, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(9.100000000000279, 0.0), :u_thermal =&gt; 0.0, :belief =&gt; Dict(52 =&gt; 1.0)…)]
 [Dict(:u_flow =&gt; 0.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 205.42576159800092, :noise_term =&gt; 0, :node_index =&gt; 1, :stage_objective =&gt; 71.39999999999999, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(300.0, 303.0), :u_thermal =&gt; 7.0, :belief =&gt; Dict(1 =&gt; 1.0)…), Dict(:u_flow =&gt; 1.048587042797171, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 151.8547114468443, :noise_term =&gt; 0, :node_index =&gt; 2, :stage_objective =&gt; 62.934694754909415, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.0, 303.9514129572028), :u_thermal =&gt; 6.051412957202828, :belief =&gt; Dict(2 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 181.95118798603653, :noise_term =&gt; -2, :node_index =&gt; 3, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.9514129572028, 297.75141295720283), :u_thermal =&gt; 0.0, :belief =&gt; Dict(3 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.299999999999784, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 139.20355097395714, :noise_term =&gt; 5, :node_index =&gt; 4, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(297.75141295720283, 297.45141295720305), :u_thermal =&gt; 0.0, :belief =&gt; Dict(4 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 147.22597002904968, :noise_term =&gt; 0, :node_index =&gt; 5, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(297.45141295720305, 293.05141295720307), :u_thermal =&gt; 0.0, :belief =&gt; Dict(5 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 177.1455873070886, :noise_term =&gt; -2, :node_index =&gt; 6, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(293.05141295720307, 285.45141295720305), :u_thermal =&gt; 0.0, :belief =&gt; Dict(6 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 133.39555314722293, :noise_term =&gt; 5, :node_index =&gt; 7, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(285.45141295720305, 285.65141295720304), :u_thermal =&gt; 0.0, :belief =&gt; Dict(7 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 141.3630512422037, :noise_term =&gt; 0, :node_index =&gt; 8, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(285.65141295720304, 279.551412957203), :u_thermal =&gt; 0.0, :belief =&gt; Dict(8 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 171.84918249043312, :noise_term =&gt; -2, :node_index =&gt; 9, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(279.551412957203, 272.251412957203), :u_thermal =&gt; 0.0, :belief =&gt; Dict(9 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.6, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 180.8347019026728, :noise_term =&gt; 0, :node_index =&gt; 10, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(272.251412957203, 265.651412957203), :u_thermal =&gt; 0.0, :belief =&gt; Dict(10 =&gt; 1.0)…)  …  Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 0.0004665469698446487, :noise_term =&gt; 0, :node_index =&gt; 43, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(64.851412957203, 58.551412957203), :u_thermal =&gt; 0.0, :belief =&gt; Dict(43 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 0.0022756729666268197, :noise_term =&gt; -2, :node_index =&gt; 44, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(58.551412957203, 51.451412957203), :u_thermal =&gt; 0.0, :belief =&gt; Dict(44 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 5, :node_index =&gt; 45, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(51.451412957203, 45.6), :u_thermal =&gt; 0.0, :belief =&gt; Dict(45 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 0, :node_index =&gt; 46, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(45.6, 39.00000000000001), :u_thermal =&gt; 0.0, :belief =&gt; Dict(46 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 5, :node_index =&gt; 47, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(39.00000000000001, 38.60000000000001), :u_thermal =&gt; 0.0, :belief =&gt; Dict(47 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.3, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 5, :node_index =&gt; 48, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(38.60000000000001, 25.300000000000004), :u_thermal =&gt; 0.0, :belief =&gt; Dict(48 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 0.0, :noise_term =&gt; -2, :node_index =&gt; 49, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(25.300000000000004, 18.100000000000005), :u_thermal =&gt; 0.0, :belief =&gt; Dict(49 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.1, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 5, :node_index =&gt; 50, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(18.100000000000005, 11.999999999999975), :u_thermal =&gt; 0.0, :belief =&gt; Dict(50 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.0, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 5, :node_index =&gt; 51, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(11.999999999999975, 12.999999999999975), :u_thermal =&gt; 0.0, :belief =&gt; Dict(51 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 0, :node_index =&gt; 52, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(12.999999999999975, 0.0), :u_thermal =&gt; 0.0, :belief =&gt; Dict(52 =&gt; 1.0)…)]
 [Dict(:u_flow =&gt; 0.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 205.42576159800092, :noise_term =&gt; 0, :node_index =&gt; 1, :stage_objective =&gt; 71.39999999999999, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(300.0, 303.0), :u_thermal =&gt; 7.0, :belief =&gt; Dict(1 =&gt; 1.0)…), Dict(:u_flow =&gt; 0.0, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 161.77528113028075, :noise_term =&gt; -2, :node_index =&gt; 2, :stage_objective =&gt; 73.84, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.0, 303.0), :u_thermal =&gt; 7.1, :belief =&gt; Dict(2 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 192.0075595308508, :noise_term =&gt; -2, :node_index =&gt; 3, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.0, 296.8), :u_thermal =&gt; 0.0, :belief =&gt; Dict(3 =&gt; 1.0)…), Dict(:u_flow =&gt; 2.556212014563471, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 171.39185889775126, :noise_term =&gt; -2, :node_index =&gt; 4, :stage_objective =&gt; 51.70728904127049, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(296.8, 294.24378798543654), :u_thermal =&gt; 4.74378798543766, :belief =&gt; Dict(4 =&gt; 1.0)…), Dict(:u_flow =&gt; 6.326153410549557, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 190.77573449686452, :noise_term =&gt; -2, :node_index =&gt; 5, :stage_objective =&gt; 12.02708180184497, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(294.24378798543654, 288.917634574887), :u_thermal =&gt; 1.0738465894504439, :belief =&gt; Dict(5 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 146.50291368497255, :noise_term =&gt; 5, :node_index =&gt; 6, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(288.917634574887, 288.317634574887), :u_thermal =&gt; 0.0, :belief =&gt; Dict(6 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 154.84340392451395, :noise_term =&gt; 0, :node_index =&gt; 7, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(288.317634574887, 283.517634574887), :u_thermal =&gt; 0.0, :belief =&gt; Dict(7 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 112.04101384272917, :noise_term =&gt; 5, :node_index =&gt; 8, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(283.517634574887, 282.41763457488696), :u_thermal =&gt; 0.0, :belief =&gt; Dict(8 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 139.90727117097913, :noise_term =&gt; -2, :node_index =&gt; 9, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(282.41763457488696, 275.11763457488695), :u_thermal =&gt; 0.0, :belief =&gt; Dict(9 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.6, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 170.7758201727802, :noise_term =&gt; -2, :node_index =&gt; 10, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(275.11763457488695, 266.5176345748869), :u_thermal =&gt; 0.0, :belief =&gt; Dict(10 =&gt; 1.0)…)  …  Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 81.11391943103575, :noise_term =&gt; 0, :node_index =&gt; 43, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(38.717634574886944, 32.41763457488695), :u_thermal =&gt; 0.0, :belief =&gt; Dict(43 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 111.98693021776435, :noise_term =&gt; -2, :node_index =&gt; 44, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(32.41763457488695, 25.317634574886945), :u_thermal =&gt; 0.0, :belief =&gt; Dict(44 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 124.11220074018479, :noise_term =&gt; 0, :node_index =&gt; 45, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(25.317634574886945, 19.517634574886944), :u_thermal =&gt; 0.0, :belief =&gt; Dict(45 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 134.71187641247622, :noise_term =&gt; 0, :node_index =&gt; 46, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(19.517634574886944, 14.917634574886945), :u_thermal =&gt; 0.0, :belief =&gt; Dict(46 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 146.42838746016264, :noise_term =&gt; 0, :node_index =&gt; 47, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(14.917634574886945, 9.517634574886946), :u_thermal =&gt; 0.0, :belief =&gt; Dict(47 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.3, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 159.3404132515661, :noise_term =&gt; 0, :node_index =&gt; 48, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(9.517634574886946, 5.217634574886946), :u_thermal =&gt; 0.0, :belief =&gt; Dict(48 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 91.60276264643707, :noise_term =&gt; 5, :node_index =&gt; 49, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(5.217634574886946, 5.017634574886947), :u_thermal =&gt; 0.0, :belief =&gt; Dict(49 =&gt; 1.0)…), Dict(:u_flow =&gt; 6.017634574886947, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 116.96200000000002, :noise_term =&gt; -2, :node_index =&gt; 50, :stage_objective =&gt; 19.049631481989728, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(5.017634574886947, 0.0), :u_thermal =&gt; 1.0823654251130526, :belief =&gt; Dict(50 =&gt; 1.0)…), Dict(:u_flow =&gt; 1.0, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 60.52000000000001, :noise_term =&gt; -2, :node_index =&gt; 51, :stage_objective =&gt; 106.19999999999999, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(0.0, 0.0), :u_thermal =&gt; 6.0, :belief =&gt; Dict(51 =&gt; 1.0)…), Dict(:u_flow =&gt; 1.0, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 0.0, :noise_term =&gt; -2, :node_index =&gt; 52, :stage_objective =&gt; 106.80000000000001, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(0.0, 0.0), :u_thermal =&gt; 6.0, :belief =&gt; Dict(52 =&gt; 1.0)…)]
 [Dict(:u_flow =&gt; 0.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 205.42576159800092, :noise_term =&gt; 0, :node_index =&gt; 1, :stage_objective =&gt; 71.39999999999999, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(300.0, 303.0), :u_thermal =&gt; 7.0, :belief =&gt; Dict(1 =&gt; 1.0)…), Dict(:u_flow =&gt; 1.048587042797171, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 151.8547114468443, :noise_term =&gt; 0, :node_index =&gt; 2, :stage_objective =&gt; 62.934694754909415, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.0, 303.9514129572028), :u_thermal =&gt; 6.051412957202828, :belief =&gt; Dict(2 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 111.12652506249606, :noise_term =&gt; 5, :node_index =&gt; 3, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.9514129572028, 304.75141295720283), :u_thermal =&gt; 0.0, :belief =&gt; Dict(3 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.299999999999102, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 139.20355097394986, :noise_term =&gt; -2, :node_index =&gt; 4, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(304.75141295720283, 297.45141295720373), :u_thermal =&gt; 0.0, :belief =&gt; Dict(4 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 99.93382962248734, :noise_term =&gt; 5, :node_index =&gt; 5, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(297.45141295720373, 298.05141295720375), :u_thermal =&gt; 0.0, :belief =&gt; Dict(5 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 105.93393257925891, :noise_term =&gt; 0, :node_index =&gt; 6, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(298.05141295720375, 292.45141295720373), :u_thermal =&gt; 0.0, :belief =&gt; Dict(6 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 133.3955531472161, :noise_term =&gt; -2, :node_index =&gt; 7, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(292.45141295720373, 285.6514129572037), :u_thermal =&gt; 0.0, :belief =&gt; Dict(7 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 94.19741218841546, :noise_term =&gt; 5, :node_index =&gt; 8, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(285.6514129572037, 284.5514129572037), :u_thermal =&gt; 0.0, :belief =&gt; Dict(8 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 100.57189579569422, :noise_term =&gt; 0, :node_index =&gt; 9, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(284.5514129572037, 279.2514129572037), :u_thermal =&gt; 0.0, :belief =&gt; Dict(9 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.6, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 107.13069924204274, :noise_term =&gt; 0, :node_index =&gt; 10, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(279.2514129572037, 272.65141295720366), :u_thermal =&gt; 0.0, :belief =&gt; Dict(10 =&gt; 1.0)…)  …  Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 59.310149678412806, :noise_term =&gt; -2, :node_index =&gt; 43, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(42.85141295720365, 34.55141295720365), :u_thermal =&gt; 0.0, :belief =&gt; Dict(43 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 64.98207505993678, :noise_term =&gt; 0, :node_index =&gt; 44, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(34.55141295720365, 29.45141295720365), :u_thermal =&gt; 0.0, :belief =&gt; Dict(44 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 70.86136918982797, :noise_term =&gt; 0, :node_index =&gt; 45, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(29.45141295720365, 23.65141295720365), :u_thermal =&gt; 0.0, :belief =&gt; Dict(45 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 104.13129522984832, :noise_term =&gt; -2, :node_index =&gt; 46, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(23.65141295720365, 17.051412957203652), :u_thermal =&gt; 0.0, :belief =&gt; Dict(46 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 51.20620867492955, :noise_term =&gt; 5, :node_index =&gt; 47, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(17.051412957203652, 16.651412957203654), :u_thermal =&gt; 0.0, :belief =&gt; Dict(47 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.3, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 15.119220266068135, :noise_term =&gt; 5, :node_index =&gt; 48, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(16.651412957203654, 17.351412957203653), :u_thermal =&gt; 0.0, :belief =&gt; Dict(48 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 15.44427297193522, :noise_term =&gt; 0, :node_index =&gt; 49, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(17.351412957203653, 12.151412957203654), :u_thermal =&gt; 0.0, :belief =&gt; Dict(49 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.1, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 5, :node_index =&gt; 50, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(12.151412957203654, 12.00000000000001), :u_thermal =&gt; 0.0, :belief =&gt; Dict(50 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 0, :node_index =&gt; 51, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(12.00000000000001, 6.000000000000002), :u_thermal =&gt; 0.0, :belief =&gt; Dict(51 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 0, :node_index =&gt; 52, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(6.000000000000002, 2.0000000000000018), :u_thermal =&gt; 0.0, :belief =&gt; Dict(52 =&gt; 1.0)…)]
 [Dict(:u_flow =&gt; 0.0, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 153.33057448796671, :noise_term =&gt; 5, :node_index =&gt; 1, :stage_objective =&gt; 71.39999999999999, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(300.0, 308.0), :u_thermal =&gt; 7.0, :belief =&gt; Dict(1 =&gt; 1.0)…), Dict(:u_flow =&gt; 4.048587042797722, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 151.85471144685005, :noise_term =&gt; -2, :node_index =&gt; 2, :stage_objective =&gt; 31.734694754903686, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(308.0, 303.95141295720225), :u_thermal =&gt; 3.0514129572022775, :belief =&gt; Dict(2 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 111.12652506250151, :noise_term =&gt; 5, :node_index =&gt; 3, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.95141295720225, 304.75141295720226), :u_thermal =&gt; 0.0, :belief =&gt; Dict(3 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.299999999999898, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 72.52676927745097, :noise_term =&gt; 5, :node_index =&gt; 4, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(304.75141295720226, 304.45141295720236), :u_thermal =&gt; 0.0, :belief =&gt; Dict(4 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 39.103419314401435, :noise_term =&gt; 5, :node_index =&gt; 5, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(304.45141295720236, 305.0514129572024), :u_thermal =&gt; 0.0, :belief =&gt; Dict(5 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 21.30325994085024, :noise_term =&gt; 5, :node_index =&gt; 6, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(305.0514129572024, 304.45141295720236), :u_thermal =&gt; 0.0, :belief =&gt; Dict(6 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 31.830162383436345, :noise_term =&gt; 0, :node_index =&gt; 7, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(304.45141295720236, 299.65141295720235), :u_thermal =&gt; 0.0, :belief =&gt; Dict(7 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 34.187312821357864, :noise_term =&gt; 0, :node_index =&gt; 8, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(299.65141295720235, 293.55141295720233), :u_thermal =&gt; 0.0, :belief =&gt; Dict(8 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 17.61480095612069, :noise_term =&gt; 5, :node_index =&gt; 9, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(293.55141295720233, 293.2514129572023), :u_thermal =&gt; 0.0, :belief =&gt; Dict(9 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.6, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 19.843262483162107, :noise_term =&gt; 0, :node_index =&gt; 10, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(293.2514129572023, 286.6514129572023), :u_thermal =&gt; 0.0, :belief =&gt; Dict(10 =&gt; 1.0)…)  …  Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 79.74692036962624, :noise_term =&gt; 5, :node_index =&gt; 43, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(33.85141295720233, 32.55141295720233), :u_thermal =&gt; 0.0, :belief =&gt; Dict(43 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 39.06325690095842, :noise_term =&gt; 5, :node_index =&gt; 44, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(32.55141295720233, 32.45141295720233), :u_thermal =&gt; 0.0, :belief =&gt; Dict(44 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 13.2377797368228, :noise_term =&gt; 5, :node_index =&gt; 45, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(32.45141295720233, 31.65141295720233), :u_thermal =&gt; 0.0, :belief =&gt; Dict(45 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 23.104417674438167, :noise_term =&gt; -2, :node_index =&gt; 46, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(31.65141295720233, 25.051412957202324), :u_thermal =&gt; 0.0, :belief =&gt; Dict(46 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 26.001781669539533, :noise_term =&gt; 0, :node_index =&gt; 47, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(25.051412957202324, 19.651412957202325), :u_thermal =&gt; 0.0, :belief =&gt; Dict(47 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.3, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 27.545840616306037, :noise_term =&gt; 0, :node_index =&gt; 48, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(19.651412957202325, 15.351412957202324), :u_thermal =&gt; 0.0, :belief =&gt; Dict(48 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 29.427238846017474, :noise_term =&gt; 0, :node_index =&gt; 49, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(15.351412957202324, 10.151412957202325), :u_thermal =&gt; 0.0, :belief =&gt; Dict(49 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.1, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 53.974391461121115, :noise_term =&gt; -2, :node_index =&gt; 50, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(10.151412957202325, 4.051412957202325), :u_thermal =&gt; 0.0, :belief =&gt; Dict(50 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 59.879394553259026, :noise_term =&gt; 0, :node_index =&gt; 51, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(4.051412957202325, 0.051412957202325416), :u_thermal =&gt; 0.0, :belief =&gt; Dict(51 =&gt; 1.0)…), Dict(:u_flow =&gt; 3.0514129572023254, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 0, :node_index =&gt; 52, :stage_objective =&gt; 70.2848493617986, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(0.051412957202325416, 0.0), :u_thermal =&gt; 3.9485870427976746, :belief =&gt; Dict(52 =&gt; 1.0)…)]
 [Dict(:u_flow =&gt; 0.0, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 226.26383644201405, :noise_term =&gt; -2, :node_index =&gt; 1, :stage_objective =&gt; 71.39999999999999, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(300.0, 301.0), :u_thermal =&gt; 7.0, :belief =&gt; Dict(1 =&gt; 1.0)…), Dict(:u_flow =&gt; 0.0, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 161.77528113028075, :noise_term =&gt; 0, :node_index =&gt; 2, :stage_objective =&gt; 73.84, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(301.0, 303.0), :u_thermal =&gt; 7.1, :belief =&gt; Dict(2 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 192.0075595308508, :noise_term =&gt; -2, :node_index =&gt; 3, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.0, 296.8), :u_thermal =&gt; 0.0, :belief =&gt; Dict(3 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.29999999999967, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 148.52718657847936, :noise_term =&gt; 5, :node_index =&gt; 4, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(296.8, 296.50000000000034), :u_thermal =&gt; 0.0, :belief =&gt; Dict(4 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 157.00209187883138, :noise_term =&gt; 0, :node_index =&gt; 5, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(296.50000000000034, 292.10000000000036), :u_thermal =&gt; 0.0, :belief =&gt; Dict(5 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 114.59701949490773, :noise_term =&gt; 5, :node_index =&gt; 6, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(292.10000000000036, 291.50000000000034), :u_thermal =&gt; 0.0, :belief =&gt; Dict(6 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 142.72921246317082, :noise_term =&gt; -2, :node_index =&gt; 7, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(291.50000000000034, 284.70000000000033), :u_thermal =&gt; 0.0, :belief =&gt; Dict(7 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 172.82715279629156, :noise_term =&gt; -2, :node_index =&gt; 8, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(284.70000000000033, 276.6000000000003), :u_thermal =&gt; 0.0, :belief =&gt; Dict(8 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 182.64988814602202, :noise_term =&gt; 0, :node_index =&gt; 9, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(276.6000000000003, 271.3000000000003), :u_thermal =&gt; 0.0, :belief =&gt; Dict(9 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.6, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 191.88285657511915, :noise_term =&gt; 0, :node_index =&gt; 10, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(271.3000000000003, 264.7000000000003), :u_thermal =&gt; 0.0, :belief =&gt; Dict(10 =&gt; 1.0)…)  …  Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 338.6103217888875, :noise_term =&gt; 5, :node_index =&gt; 43, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(16.900000000000304, 15.600000000000303), :u_thermal =&gt; 0.0, :belief =&gt; Dict(43 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 388.99021747879885, :noise_term =&gt; -2, :node_index =&gt; 44, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(15.600000000000303, 8.500000000000304), :u_thermal =&gt; 0.0, :belief =&gt; Dict(44 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 404.7022827920195, :noise_term =&gt; 0, :node_index =&gt; 45, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(8.500000000000304, 2.700000000000304), :u_thermal =&gt; 0.0, :belief =&gt; Dict(45 =&gt; 1.0)…), Dict(:u_flow =&gt; 5.299999999965562, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 380.1948119993942, :noise_term =&gt; 0, :node_index =&gt; 46, :stage_objective =&gt; 40.25000000060267, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(2.700000000000304, 0.40000000003474234), :u_thermal =&gt; 2.300000000034438, :belief =&gt; Dict(46 =&gt; 1.0)…), Dict(:u_flow =&gt; 0.40000000003474234, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 308.4448120000021, :noise_term =&gt; -2, :node_index =&gt; 47, :stage_objective =&gt; 122.49999999939202, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(0.40000000003474234, 0.0), :u_thermal =&gt; 6.999999999965258, :belief =&gt; Dict(47 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.3, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 236.73068, :noise_term =&gt; 5, :node_index =&gt; 48, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(0.0, 0.7000000000000002), :u_thermal =&gt; 0.0, :belief =&gt; Dict(48 =&gt; 1.0)…), Dict(:u_flow =&gt; 2.7, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 173.67944000000003, :noise_term =&gt; 0, :node_index =&gt; 49, :stage_objective =&gt; 78.75, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(0.7000000000000002, 0.0), :u_thermal =&gt; 4.5, :belief =&gt; Dict(49 =&gt; 1.0)…), Dict(:u_flow =&gt; 3.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 116.96200000000002, :noise_term =&gt; 0, :node_index =&gt; 50, :stage_objective =&gt; 72.16, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(0.0, 0.0), :u_thermal =&gt; 4.1, :belief =&gt; Dict(50 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.0, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 48.06, :noise_term =&gt; 5, :node_index =&gt; 51, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(0.0, 1.0), :u_thermal =&gt; 0.0, :belief =&gt; Dict(51 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.0, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 5, :node_index =&gt; 52, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(1.0, 0.0), :u_thermal =&gt; 0.0, :belief =&gt; Dict(52 =&gt; 1.0)…)]
 [Dict(:u_flow =&gt; 0.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 205.42576159800092, :noise_term =&gt; 0, :node_index =&gt; 1, :stage_objective =&gt; 71.39999999999999, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(300.0, 303.0), :u_thermal =&gt; 7.0, :belief =&gt; Dict(1 =&gt; 1.0)…), Dict(:u_flow =&gt; 1.048587042797171, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 151.8547114468443, :noise_term =&gt; 0, :node_index =&gt; 2, :stage_objective =&gt; 62.934694754909415, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.0, 303.9514129572028), :u_thermal =&gt; 6.051412957202828, :belief =&gt; Dict(2 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 160.81132128844501, :noise_term =&gt; 0, :node_index =&gt; 3, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.9514129572028, 299.75141295720283), :u_thermal =&gt; 0.0, :belief =&gt; Dict(3 =&gt; 1.0)…), Dict(:u_flow =&gt; 5.50762497176629, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 171.39185889775126, :noise_term =&gt; -2, :node_index =&gt; 4, :stage_objective =&gt; 19.536887807740484, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(299.75141295720283, 294.24378798543654), :u_thermal =&gt; 1.792375028233072, :belief =&gt; Dict(4 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 128.80865024812556, :noise_term =&gt; 5, :node_index =&gt; 5, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(294.24378798543654, 294.84378798543656), :u_thermal =&gt; 0.0, :belief =&gt; Dict(5 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 89.7330528519933, :noise_term =&gt; 5, :node_index =&gt; 6, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(294.84378798543656, 294.24378798543654), :u_thermal =&gt; 0.0, :belief =&gt; Dict(6 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 96.65990065451251, :noise_term =&gt; 0, :node_index =&gt; 7, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(294.24378798543654, 289.44378798543653), :u_thermal =&gt; 0.0, :belief =&gt; Dict(7 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 103.86425603162843, :noise_term =&gt; 0, :node_index =&gt; 8, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(289.44378798543653, 283.3437879854365), :u_thermal =&gt; 0.0, :belief =&gt; Dict(8 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 129.87609020842183, :noise_term =&gt; -2, :node_index =&gt; 9, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(283.3437879854365, 276.0437879854365), :u_thermal =&gt; 0.0, :belief =&gt; Dict(9 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.6, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 160.11218506626255, :noise_term =&gt; -2, :node_index =&gt; 10, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(276.0437879854365, 267.4437879854365), :u_thermal =&gt; 0.0, :belief =&gt; Dict(10 =&gt; 1.0)…)  …  Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 207.9843558480993, :noise_term =&gt; 0, :node_index =&gt; 43, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(29.64378798543649, 23.34378798543649), :u_thermal =&gt; 0.0, :belief =&gt; Dict(43 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 255.15428426769458, :noise_term =&gt; -2, :node_index =&gt; 44, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(23.34378798543649, 16.24378798543649), :u_thermal =&gt; 0.0, :belief =&gt; Dict(44 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 269.95555831291625, :noise_term =&gt; 0, :node_index =&gt; 45, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(16.24378798543649, 10.44378798543649), :u_thermal =&gt; 0.0, :belief =&gt; Dict(45 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 285.09351577732036, :noise_term =&gt; 0, :node_index =&gt; 46, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(10.44378798543649, 5.8437879854364905), :u_thermal =&gt; 0.0, :belief =&gt; Dict(46 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 300.6921660726878, :noise_term =&gt; 0, :node_index =&gt; 47, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(5.8437879854364905, 0.4437879854364901), :u_thermal =&gt; 0.0, :belief =&gt; Dict(47 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.3, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 229.00986964760892, :noise_term =&gt; 5, :node_index =&gt; 48, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(0.4437879854364901, 1.1437879854364903), :u_thermal =&gt; 0.0, :belief =&gt; Dict(48 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 157.48554823068656, :noise_term =&gt; 5, :node_index =&gt; 49, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(1.1437879854364903, 0.9437879854364892), :u_thermal =&gt; 0.0, :belief =&gt; Dict(49 =&gt; 1.0)…), Dict(:u_flow =&gt; 1.9437879854364892, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 116.962, :noise_term =&gt; -2, :node_index =&gt; 50, :stage_objective =&gt; 90.74933145631779, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(0.9437879854364892, 0.0), :u_thermal =&gt; 5.15621201456351, :belief =&gt; Dict(50 =&gt; 1.0)…), Dict(:u_flow =&gt; 3.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 60.519999999999996, :noise_term =&gt; 0, :node_index =&gt; 51, :stage_objective =&gt; 70.8, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(0.0, 0.0), :u_thermal =&gt; 4.0, :belief =&gt; Dict(51 =&gt; 1.0)…), Dict(:u_flow =&gt; 3.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 0, :node_index =&gt; 52, :stage_objective =&gt; 71.2, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(0.0, 0.0), :u_thermal =&gt; 4.0, :belief =&gt; Dict(52 =&gt; 1.0)…)]
 [Dict(:u_flow =&gt; 0.0, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 153.33057448796671, :noise_term =&gt; 5, :node_index =&gt; 1, :stage_objective =&gt; 71.39999999999999, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(300.0, 308.0), :u_thermal =&gt; 7.0, :belief =&gt; Dict(1 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.1000000000008, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 112.57712554929793, :noise_term =&gt; 5, :node_index =&gt; 2, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(308.0, 307.8999999999992), :u_thermal =&gt; 0.0, :belief =&gt; Dict(2 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 75.19973234924646, :noise_term =&gt; 5, :node_index =&gt; 3, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(307.8999999999992, 308.6999999999992), :u_thermal =&gt; 0.0, :belief =&gt; Dict(3 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.300000000000352, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 81.7414685580352, :noise_term =&gt; 0, :node_index =&gt; 4, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(308.6999999999992, 303.39999999999884), :u_thermal =&gt; 0.0, :belief =&gt; Dict(4 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 109.07066984962876, :noise_term =&gt; -2, :node_index =&gt; 5, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.39999999999884, 296.99999999999886), :u_thermal =&gt; 0.0, :belief =&gt; Dict(5 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 115.58432536757346, :noise_term =&gt; 0, :node_index =&gt; 6, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(296.99999999999886, 291.39999999999884), :u_thermal =&gt; 0.0, :belief =&gt; Dict(6 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 79.3997699641618, :noise_term =&gt; 5, :node_index =&gt; 7, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(291.39999999999884, 291.59999999999883), :u_thermal =&gt; 0.0, :belief =&gt; Dict(7 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 50.72116383303137, :noise_term =&gt; 5, :node_index =&gt; 8, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(291.59999999999883, 290.4999999999988), :u_thermal =&gt; 0.0, :belief =&gt; Dict(8 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 69.04892503353358, :noise_term =&gt; -2, :node_index =&gt; 9, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(290.4999999999988, 283.1999999999988), :u_thermal =&gt; 0.0, :belief =&gt; Dict(9 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.6, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 75.03047993213931, :noise_term =&gt; 0, :node_index =&gt; 10, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(283.1999999999988, 276.5999999999988), :u_thermal =&gt; 0.0, :belief =&gt; Dict(10 =&gt; 1.0)…)  …  Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 14.30654177140008, :noise_term =&gt; 0, :node_index =&gt; 43, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(47.79999999999879, 41.49999999999879), :u_thermal =&gt; 0.0, :belief =&gt; Dict(43 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 16.078726804004983, :noise_term =&gt; 0, :node_index =&gt; 44, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(41.49999999999879, 36.39999999999879), :u_thermal =&gt; 0.0, :belief =&gt; Dict(44 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 3.610738079998698, :noise_term =&gt; 5, :node_index =&gt; 45, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(36.39999999999879, 35.59999999999879), :u_thermal =&gt; 0.0, :belief =&gt; Dict(45 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 7.436917800003199, :noise_term =&gt; -2, :node_index =&gt; 46, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(35.59999999999879, 28.999999999998792), :u_thermal =&gt; 0.0, :belief =&gt; Dict(46 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 0.4181220000003947, :noise_term =&gt; 5, :node_index =&gt; 47, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(28.999999999998792, 28.599999999998793), :u_thermal =&gt; 0.0, :belief =&gt; Dict(47 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.3, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 5, :node_index =&gt; 48, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(28.599999999998793, 29.299999999998793), :u_thermal =&gt; 0.0, :belief =&gt; Dict(48 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 0, :node_index =&gt; 49, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(29.299999999998793, 18.09999999999999), :u_thermal =&gt; 0.0, :belief =&gt; Dict(49 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.100000000000001, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 5, :node_index =&gt; 50, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(18.09999999999999, 18.999999999999993), :u_thermal =&gt; 0.0, :belief =&gt; Dict(50 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.0, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 5, :node_index =&gt; 51, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(18.999999999999993, 6.0), :u_thermal =&gt; 0.0, :belief =&gt; Dict(51 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.0, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 0.0, :noise_term =&gt; -2, :node_index =&gt; 52, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(6.0, 0.0), :u_thermal =&gt; -0.0, :belief =&gt; Dict(52 =&gt; 1.0)…)]
 [Dict(:u_flow =&gt; 0.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 205.42576159800092, :noise_term =&gt; 0, :node_index =&gt; 1, :stage_objective =&gt; 71.39999999999999, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(300.0, 303.0), :u_thermal =&gt; 7.0, :belief =&gt; Dict(1 =&gt; 1.0)…), Dict(:u_flow =&gt; 1.048587042797171, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 151.8547114468443, :noise_term =&gt; 0, :node_index =&gt; 2, :stage_objective =&gt; 62.93469475490942, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.0, 303.9514129572028), :u_thermal =&gt; 6.051412957202829, :belief =&gt; Dict(2 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 160.81132128844501, :noise_term =&gt; 0, :node_index =&gt; 3, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.9514129572028, 299.75141295720283), :u_thermal =&gt; 0.0, :belief =&gt; Dict(3 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.300000000000978, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 119.60399531533085, :noise_term =&gt; 5, :node_index =&gt; 4, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(299.75141295720283, 299.45141295720185), :u_thermal =&gt; 0.0, :belief =&gt; Dict(4 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 126.67522647281476, :noise_term =&gt; 0, :node_index =&gt; 5, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(299.45141295720185, 295.0514129572019), :u_thermal =&gt; 0.0, :belief =&gt; Dict(5 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 88.04403954416239, :noise_term =&gt; 5, :node_index =&gt; 6, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(295.0514129572019, 294.45141295720185), :u_thermal =&gt; 0.0, :belief =&gt; Dict(6 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 94.99789611922233, :noise_term =&gt; 0, :node_index =&gt; 7, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(294.45141295720185, 289.65141295720184), :u_thermal =&gt; 0.0, :belief =&gt; Dict(7 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 120.84511448988405, :noise_term =&gt; -2, :node_index =&gt; 8, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(289.65141295720184, 281.5514129572018), :u_thermal =&gt; 0.0, :belief =&gt; Dict(8 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 149.28933001965697, :noise_term =&gt; -2, :node_index =&gt; 9, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(281.5514129572018, 274.2514129572018), :u_thermal =&gt; 0.0, :belief =&gt; Dict(9 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.6, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 107.13069924206184, :noise_term =&gt; 5, :node_index =&gt; 10, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(274.2514129572018, 272.6514129572018), :u_thermal =&gt; 0.0, :belief =&gt; Dict(10 =&gt; 1.0)…)  …  Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 409.1356736892038, :noise_term =&gt; -2, :node_index =&gt; 43, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(19.851412957201788, 11.551412957201787), :u_thermal =&gt; 0.0, :belief =&gt; Dict(43 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 337.5583888286054, :noise_term =&gt; 5, :node_index =&gt; 44, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(11.551412957201787, 11.451412957201788), :u_thermal =&gt; 0.0, :belief =&gt; Dict(44 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 266.3775329446508, :noise_term =&gt; 5, :node_index =&gt; 45, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(11.451412957201788, 10.651412957201789), :u_thermal =&gt; 0.0, :belief =&gt; Dict(45 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 281.46911095600217, :noise_term =&gt; 0, :node_index =&gt; 46, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(10.651412957201789, 6.051412957201789), :u_thermal =&gt; 0.0, :belief =&gt; Dict(46 =&gt; 1.0)…), Dict(:u_flow =&gt; 6.051412957201789, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 308.4448120000021, :noise_term =&gt; -2, :node_index =&gt; 47, :stage_objective =&gt; 23.600273248968698, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(6.051412957201789, 0.0), :u_thermal =&gt; 1.3485870427982114, :belief =&gt; Dict(47 =&gt; 1.0)…), Dict(:u_flow =&gt; 2.799999999999362, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 245.42943999998897, :noise_term =&gt; 0, :node_index =&gt; 48, :stage_objective =&gt; 78.75000000001116, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(0.0, 0.2000000000006379), :u_thermal =&gt; 4.500000000000638, :belief =&gt; Dict(48 =&gt; 1.0)…), Dict(:u_flow =&gt; 0.2000000000006379, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 173.67944, :noise_term =&gt; -2, :node_index =&gt; 49, :stage_objective =&gt; 122.49999999998884, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(0.2000000000006379, 0.0), :u_thermal =&gt; 6.999999999999362, :belief =&gt; Dict(49 =&gt; 1.0)…), Dict(:u_flow =&gt; 3.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 116.96200000000002, :noise_term =&gt; 0, :node_index =&gt; 50, :stage_objective =&gt; 72.16, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(0.0, 0.0), :u_thermal =&gt; 4.1, :belief =&gt; Dict(50 =&gt; 1.0)…), Dict(:u_flow =&gt; 3.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 60.519999999999996, :noise_term =&gt; 0, :node_index =&gt; 51, :stage_objective =&gt; 70.8, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(0.0, 0.0), :u_thermal =&gt; 4.0, :belief =&gt; Dict(51 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.0, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 5, :node_index =&gt; 52, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(0.0, 0.0), :u_thermal =&gt; 0.0, :belief =&gt; Dict(52 =&gt; 1.0)…)]
 [Dict(:u_flow =&gt; 0.0, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 153.33057448796671, :noise_term =&gt; 5, :node_index =&gt; 1, :stage_objective =&gt; 71.39999999999999, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(300.0, 308.0), :u_thermal =&gt; 7.0, :belief =&gt; Dict(1 =&gt; 1.0)…), Dict(:u_flow =&gt; 6.048587042796827, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 151.85471144684084, :noise_term =&gt; 0, :node_index =&gt; 2, :stage_objective =&gt; 10.934694754913005, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(308.0, 303.95141295720316), :u_thermal =&gt; 1.0514129572031736, :belief =&gt; Dict(2 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 160.81132128844138, :noise_term =&gt; 0, :node_index =&gt; 3, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.95141295720316, 299.7514129572032), :u_thermal =&gt; 0.0, :belief =&gt; Dict(3 =&gt; 1.0)…), Dict(:u_flow =&gt; 5.5076249717666315, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 171.39185889775126, :noise_term =&gt; -2, :node_index =&gt; 4, :stage_objective =&gt; 19.536887807729396, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(299.7514129572032, 294.24378798543654), :u_thermal =&gt; 1.7923750282320547, :belief =&gt; Dict(4 =&gt; 1.0)…), Dict(:u_flow =&gt; 6.326153410551169, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 190.7757344968777, :noise_term =&gt; -2, :node_index =&gt; 5, :stage_objective =&gt; 12.027081801826911, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(294.24378798543654, 288.91763457488537), :u_thermal =&gt; 1.0738465894488314, :belief =&gt; Dict(5 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 146.5029136849903, :noise_term =&gt; 5, :node_index =&gt; 6, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(288.91763457488537, 288.31763457488535), :u_thermal =&gt; 0.0, :belief =&gt; Dict(6 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 105.27702070458372, :noise_term =&gt; 5, :node_index =&gt; 7, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(288.31763457488535, 288.51763457488534), :u_thermal =&gt; 0.0, :belief =&gt; Dict(7 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 112.041013842746, :noise_term =&gt; 0, :node_index =&gt; 8, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(288.51763457488534, 282.4176345748853), :u_thermal =&gt; 0.0, :belief =&gt; Dict(8 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 76.1924285238074, :noise_term =&gt; 5, :node_index =&gt; 9, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(282.4176345748853, 282.1176345748853), :u_thermal =&gt; 0.0, :belief =&gt; Dict(9 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.6, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 99.10219860412553, :noise_term =&gt; -2, :node_index =&gt; 10, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(282.1176345748853, 273.5176345748853), :u_thermal =&gt; 0.0, :belief =&gt; Dict(10 =&gt; 1.0)…)  …  Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 3.3319336436011024, :noise_term =&gt; 5, :node_index =&gt; 43, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(47.717634574885295, 46.4176345748853), :u_thermal =&gt; 0.0, :belief =&gt; Dict(43 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 3.613816066144412, :noise_term =&gt; 0, :node_index =&gt; 44, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(46.4176345748853, 41.3176345748853), :u_thermal =&gt; 0.0, :belief =&gt; Dict(44 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 6.834600330490758, :noise_term =&gt; -2, :node_index =&gt; 45, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(41.3176345748853, 33.5176345748853), :u_thermal =&gt; 0.0, :belief =&gt; Dict(45 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 7.6558915540546195, :noise_term =&gt; 0, :node_index =&gt; 46, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(33.5176345748853, 28.917634574885298), :u_thermal =&gt; 0.0, :belief =&gt; Dict(46 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 0.44543552808397635, :noise_term =&gt; 5, :node_index =&gt; 47, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(28.917634574885298, 28.5176345748853), :u_thermal =&gt; 0.0, :belief =&gt; Dict(47 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.300000000000988, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 5, :node_index =&gt; 48, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(28.5176345748853, 29.21763457488431), :u_thermal =&gt; 0.0, :belief =&gt; Dict(48 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.199999999999999, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 0.0, :noise_term =&gt; -2, :node_index =&gt; 49, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(29.21763457488431, 18.099999999999927), :u_thermal =&gt; 0.0, :belief =&gt; Dict(49 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.100000000000001, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 5, :node_index =&gt; 50, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(18.099999999999927, 18.99999999999993), :u_thermal =&gt; 0.0, :belief =&gt; Dict(50 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 0, :node_index =&gt; 51, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(18.99999999999993, 6.0000000000000036), :u_thermal =&gt; 0.0, :belief =&gt; Dict(51 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.0, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 5, :node_index =&gt; 52, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(6.0000000000000036, 0.0), :u_thermal =&gt; 0.0, :belief =&gt; Dict(52 =&gt; 1.0)…)]
 ⋮
 [Dict(:u_flow =&gt; 0.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 205.42576159800092, :noise_term =&gt; 0, :node_index =&gt; 1, :stage_objective =&gt; 71.39999999999999, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(300.0, 303.0), :u_thermal =&gt; 7.0, :belief =&gt; Dict(1 =&gt; 1.0)…), Dict(:u_flow =&gt; 0.0, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 161.77528113029257, :noise_term =&gt; -2, :node_index =&gt; 2, :stage_objective =&gt; 73.83999999999433, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.0, 302.99999999999886), :u_thermal =&gt; 7.099999999999454, :belief =&gt; Dict(2 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 170.86769283327112, :noise_term =&gt; 0, :node_index =&gt; 3, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(302.99999999999886, 298.7999999999989), :u_thermal =&gt; 0.0, :belief =&gt; Dict(3 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.3, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 128.92763091985535, :noise_term =&gt; 5, :node_index =&gt; 4, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(298.7999999999989, 298.49999999999886), :u_thermal =&gt; 0.0, :belief =&gt; Dict(4 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.399999999998897, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 136.45134832258736, :noise_term =&gt; 0, :node_index =&gt; 5, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(298.49999999999886, 294.09999999999997), :u_thermal =&gt; 0.0, :belief =&gt; Dict(5 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 144.5550141838412, :noise_term =&gt; 0, :node_index =&gt; 6, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(294.09999999999997, 288.49999999999994), :u_thermal =&gt; 0.0, :belief =&gt; Dict(6 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 103.48795872456594, :noise_term =&gt; 5, :node_index =&gt; 7, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(288.49999999999994, 288.69999999999993), :u_thermal =&gt; 0.0, :belief =&gt; Dict(7 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 130.51508261489744, :noise_term =&gt; -2, :node_index =&gt; 8, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(288.69999999999993, 280.5999999999999), :u_thermal =&gt; 0.0, :belief =&gt; Dict(8 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 137.93206861837416, :noise_term =&gt; 0, :node_index =&gt; 9, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(280.5999999999999, 275.2999999999999), :u_thermal =&gt; 0.0, :belief =&gt; Dict(9 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.6, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 147.16164051122723, :noise_term =&gt; 0, :node_index =&gt; 10, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(275.2999999999999, 268.6999999999999), :u_thermal =&gt; 0.0, :belief =&gt; Dict(10 =&gt; 1.0)…)  …  Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 142.69176790770172, :noise_term =&gt; 0, :node_index =&gt; 43, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(33.89999999999989, 27.59999999999989), :u_thermal =&gt; 0.0, :belief =&gt; Dict(43 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 185.2404204872021, :noise_term =&gt; -2, :node_index =&gt; 44, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(27.59999999999989, 20.499999999999893), :u_thermal =&gt; 0.0, :belief =&gt; Dict(44 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 121.5596635800016, :noise_term =&gt; 5, :node_index =&gt; 45, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(20.499999999999893, 19.699999999999893), :u_thermal =&gt; 0.0, :belief =&gt; Dict(45 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 66.43060720000264, :noise_term =&gt; 5, :node_index =&gt; 46, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(19.699999999999893, 20.099999999999895), :u_thermal =&gt; 0.0, :belief =&gt; Dict(46 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 72.72872980000055, :noise_term =&gt; 0, :node_index =&gt; 47, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(20.099999999999895, 14.699999999999894), :u_thermal =&gt; 0.0, :belief =&gt; Dict(47 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.300000000000125, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 27.186520000000755, :noise_term =&gt; 5, :node_index =&gt; 48, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(14.699999999999894, 15.399999999999896), :u_thermal =&gt; 0.0, :belief =&gt; Dict(48 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 48.83370000000115, :noise_term =&gt; -2, :node_index =&gt; 49, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(15.399999999999896, 8.199999999999896), :u_thermal =&gt; 0.0, :belief =&gt; Dict(49 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.1, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 53.396400000001236, :noise_term =&gt; 0, :node_index =&gt; 50, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(8.199999999999896, 4.099999999999897), :u_thermal =&gt; 0.0, :belief =&gt; Dict(50 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.0, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 4.806000000000552, :noise_term =&gt; 5, :node_index =&gt; 51, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(4.099999999999897, 5.099999999999897), :u_thermal =&gt; 0.0, :belief =&gt; Dict(51 =&gt; 1.0)…), Dict(:u_flow =&gt; 6.099999999999897, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 0.0, :noise_term =&gt; -2, :node_index =&gt; 52, :stage_objective =&gt; 16.02000000000184, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(5.099999999999897, 0.0), :u_thermal =&gt; 0.9000000000001034, :belief =&gt; Dict(52 =&gt; 1.0)…)]
 [Dict(:u_flow =&gt; 0.0, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 226.26383644201405, :noise_term =&gt; -2, :node_index =&gt; 1, :stage_objective =&gt; 71.39999999999999, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(300.0, 301.0), :u_thermal =&gt; 7.0, :belief =&gt; Dict(1 =&gt; 1.0)…), Dict(:u_flow =&gt; 4.048587042797408, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 151.85471144684607, :noise_term =&gt; 5, :node_index =&gt; 2, :stage_objective =&gt; 31.734694754907547, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(301.0, 303.95141295720265), :u_thermal =&gt; 3.0514129572026487, :belief =&gt; Dict(2 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 111.12652506249788, :noise_term =&gt; 5, :node_index =&gt; 3, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.95141295720265, 304.75141295720266), :u_thermal =&gt; 0.0, :belief =&gt; Dict(3 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.3, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 139.20355097396123, :noise_term =&gt; -2, :node_index =&gt; 4, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(304.75141295720266, 297.45141295720265), :u_thermal =&gt; 0.0, :belief =&gt; Dict(4 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.399999999998272, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 99.93382962248006, :noise_term =&gt; 5, :node_index =&gt; 5, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(297.45141295720265, 298.0514129572044), :u_thermal =&gt; 0.0, :belief =&gt; Dict(5 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 66.91774102098088, :noise_term =&gt; 5, :node_index =&gt; 6, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(298.0514129572044, 297.45141295720435), :u_thermal =&gt; 0.0, :belief =&gt; Dict(6 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 41.421575664668126, :noise_term =&gt; 5, :node_index =&gt; 7, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(297.45141295720435, 297.65141295720434), :u_thermal =&gt; 0.0, :belief =&gt; Dict(7 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 45.0241620079787, :noise_term =&gt; 0, :node_index =&gt; 8, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(297.65141295720434, 291.5514129572043), :u_thermal =&gt; 0.0, :belief =&gt; Dict(8 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 49.90074414196215, :noise_term =&gt; 0, :node_index =&gt; 9, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(291.5514129572043, 286.2514129572043), :u_thermal =&gt; 0.0, :belief =&gt; Dict(9 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.6, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 54.57542178872882, :noise_term =&gt; 0, :node_index =&gt; 10, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(286.2514129572043, 279.6514129572043), :u_thermal =&gt; 0.0, :belief =&gt; Dict(10 =&gt; 1.0)…)  …  Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 0, :node_index =&gt; 43, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(66.95384615384614, 58.65384615384617), :u_thermal =&gt; 0.0, :belief =&gt; Dict(43 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 0, :node_index =&gt; 44, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(58.65384615384617, 53.399999999999984), :u_thermal =&gt; 0.0, :belief =&gt; Dict(44 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 5, :node_index =&gt; 45, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(53.399999999999984, 45.60000000000001), :u_thermal =&gt; 0.0, :belief =&gt; Dict(45 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 0.0, :noise_term =&gt; -2, :node_index =&gt; 46, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(45.60000000000001, 39.00000000000001), :u_thermal =&gt; 0.0, :belief =&gt; Dict(46 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 0.0, :noise_term =&gt; -2, :node_index =&gt; 47, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(39.00000000000001, 31.599999999999245), :u_thermal =&gt; 0.0, :belief =&gt; Dict(47 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.300000000000125, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 5, :node_index =&gt; 48, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(31.599999999999245, 32.299999999999244), :u_thermal =&gt; 0.0, :belief =&gt; Dict(48 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 0.0, :noise_term =&gt; -2, :node_index =&gt; 49, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(32.299999999999244, 25.099999999999245), :u_thermal =&gt; 0.0, :belief =&gt; Dict(49 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.1, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 0, :node_index =&gt; 50, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(25.099999999999245, 12.000000000000043), :u_thermal =&gt; 0.0, :belief =&gt; Dict(50 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.0, :ω_inflow =&gt; 1.0, :bellman_term =&gt; -2.2737367544323206e-13, :noise_term =&gt; -2, :node_index =&gt; 51, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(12.000000000000043, 6.000000000000043), :u_thermal =&gt; 0.0, :belief =&gt; Dict(51 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.0, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 5, :node_index =&gt; 52, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(6.000000000000043, 7.000000000000043), :u_thermal =&gt; 0.0, :belief =&gt; Dict(52 =&gt; 1.0)…)]
 [Dict(:u_flow =&gt; 0.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 205.42576159800092, :noise_term =&gt; 0, :node_index =&gt; 1, :stage_objective =&gt; 71.39999999999999, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(300.0, 303.0), :u_thermal =&gt; 7.0, :belief =&gt; Dict(1 =&gt; 1.0)…), Dict(:u_flow =&gt; 6.048587042797408, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 151.85471144684607, :noise_term =&gt; 5, :node_index =&gt; 2, :stage_objective =&gt; 10.934694754907547, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.0, 303.95141295720265), :u_thermal =&gt; 1.0514129572026487, :belief =&gt; Dict(2 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 160.81132128844683, :noise_term =&gt; 0, :node_index =&gt; 3, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.95141295720265, 299.75141295720266), :u_thermal =&gt; 0.0, :belief =&gt; Dict(3 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.3, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 169.26666806134926, :noise_term =&gt; 0, :node_index =&gt; 4, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(299.75141295720266, 294.45141295720265), :u_thermal =&gt; 0.0, :belief =&gt; Dict(4 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.399999999998215, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 178.71071248647695, :noise_term =&gt; 0, :node_index =&gt; 5, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(294.45141295720265, 290.05141295720443), :u_thermal =&gt; 0.0, :belief =&gt; Dict(5 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 210.37179374938387, :noise_term =&gt; -2, :node_index =&gt; 6, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(290.05141295720443, 282.4514129572044), :u_thermal =&gt; 0.0, :belief =&gt; Dict(6 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 221.3108838719727, :noise_term =&gt; 0, :node_index =&gt; 7, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(282.4514129572044, 277.6514129572044), :u_thermal =&gt; 0.0, :belief =&gt; Dict(7 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 173.36862993788327, :noise_term =&gt; 5, :node_index =&gt; 8, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(277.6514129572044, 276.5514129572044), :u_thermal =&gt; 0.0, :belief =&gt; Dict(8 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 183.20146182803, :noise_term =&gt; 0, :node_index =&gt; 9, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(276.5514129572044, 271.25141295720437), :u_thermal =&gt; 0.0, :belief =&gt; Dict(9 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.6, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 216.56515380697283, :noise_term =&gt; -2, :node_index =&gt; 10, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(271.25141295720437, 262.65141295720434), :u_thermal =&gt; 0.0, :belief =&gt; Dict(10 =&gt; 1.0)…)  …  Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 41.419156829539126, :noise_term =&gt; 5, :node_index =&gt; 43, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(37.85141295720426, 36.551412957204356), :u_thermal =&gt; 0.0, :belief =&gt; Dict(43 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 64.98207505992877, :noise_term =&gt; -2, :node_index =&gt; 44, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(36.551412957204356, 29.451412957204354), :u_thermal =&gt; 0.0, :belief =&gt; Dict(44 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 70.8613691898204, :noise_term =&gt; 0, :node_index =&gt; 45, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(29.451412957204354, 23.651412957204354), :u_thermal =&gt; 0.0, :belief =&gt; Dict(45 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 104.13129522983866, :noise_term =&gt; -2, :node_index =&gt; 46, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(23.651412957204354, 17.051412957204356), :u_thermal =&gt; 0.0, :belief =&gt; Dict(46 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 113.68020732716249, :noise_term =&gt; 0, :node_index =&gt; 47, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(17.051412957204356, 11.651412957204355), :u_thermal =&gt; 0.0, :belief =&gt; Dict(47 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.3, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 157.12580042603366, :noise_term =&gt; -2, :node_index =&gt; 48, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(11.651412957204355, 5.351412957204356), :u_thermal =&gt; 0.0, :belief =&gt; Dict(48 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 89.68333717262333, :noise_term =&gt; 5, :node_index =&gt; 49, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(5.351412957204356, 5.151412957204356), :u_thermal =&gt; 0.0, :belief =&gt; Dict(49 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.1, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 31.947576187263607, :noise_term =&gt; 5, :node_index =&gt; 50, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(5.151412957204356, 6.051412957204358), :u_thermal =&gt; 0.0, :belief =&gt; Dict(50 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.0, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 59.8793945532337, :noise_term =&gt; -2, :node_index =&gt; 51, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(6.051412957204358, 0.05141295720435757), :u_thermal =&gt; 0.0, :belief =&gt; Dict(51 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.0, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 5, :node_index =&gt; 52, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(0.05141295720435757, 1.0514129572043576), :u_thermal =&gt; 0.0, :belief =&gt; Dict(52 =&gt; 1.0)…)]
 [Dict(:u_flow =&gt; 0.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 205.42576159800092, :noise_term =&gt; 0, :node_index =&gt; 1, :stage_objective =&gt; 71.39999999999999, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(300.0, 303.0), :u_thermal =&gt; 7.0, :belief =&gt; Dict(1 =&gt; 1.0)…), Dict(:u_flow =&gt; 6.048587042797408, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 151.85471144684607, :noise_term =&gt; 5, :node_index =&gt; 2, :stage_objective =&gt; 10.934694754907547, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.0, 303.95141295720265), :u_thermal =&gt; 1.0514129572026487, :belief =&gt; Dict(2 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 160.81132128844683, :noise_term =&gt; 0, :node_index =&gt; 3, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.95141295720265, 299.75141295720266), :u_thermal =&gt; 0.0, :belief =&gt; Dict(3 =&gt; 1.0)…), Dict(:u_flow =&gt; 5.507624971766073, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 171.3918588977508, :noise_term =&gt; -2, :node_index =&gt; 4, :stage_objective =&gt; 19.536887807749803, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(299.75141295720266, 294.2437879854366), :u_thermal =&gt; 1.7923750282339268, :belief =&gt; Dict(4 =&gt; 1.0)…), Dict(:u_flow =&gt; 6.326153410544066, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 190.77573449680222, :noise_term =&gt; -2, :node_index =&gt; 5, :stage_objective =&gt; 12.02708180188891, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(294.2437879854366, 288.91763457489253), :u_thermal =&gt; 1.073846589454367, :belief =&gt; Dict(5 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 146.5029136849139, :noise_term =&gt; 5, :node_index =&gt; 6, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(288.91763457489253, 288.3176345748925), :u_thermal =&gt; 0.0, :belief =&gt; Dict(6 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 105.27702070451369, :noise_term =&gt; 5, :node_index =&gt; 7, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(288.3176345748925, 288.5176345748925), :u_thermal =&gt; 0.0, :belief =&gt; Dict(7 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 71.25376871796743, :noise_term =&gt; 5, :node_index =&gt; 8, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(288.5176345748925, 287.4176345748925), :u_thermal =&gt; 0.0, :belief =&gt; Dict(8 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 76.19242852375965, :noise_term =&gt; 0, :node_index =&gt; 9, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(287.4176345748925, 282.11763457489246), :u_thermal =&gt; 0.0, :belief =&gt; Dict(9 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.6, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 82.76760958076557, :noise_term =&gt; 0, :node_index =&gt; 10, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(282.11763457489246, 275.51763457489244), :u_thermal =&gt; 0.0, :belief =&gt; Dict(10 =&gt; 1.0)…)  …  Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 36.00873062627788, :noise_term =&gt; -2, :node_index =&gt; 43, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(45.71763457489237, 37.41763457489161), :u_thermal =&gt; 0.0, :belief =&gt; Dict(43 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 40.01492286276962, :noise_term =&gt; 0, :node_index =&gt; 44, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(37.41763457489161, 32.317634574891606), :u_thermal =&gt; 0.0, :belief =&gt; Dict(44 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 61.89582871452141, :noise_term =&gt; -2, :node_index =&gt; 45, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(32.317634574891606, 24.517634574891606), :u_thermal =&gt; 0.0, :belief =&gt; Dict(45 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 68.43736312188668, :noise_term =&gt; 0, :node_index =&gt; 46, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(24.517634574891606, 19.917634574891608), :u_thermal =&gt; 0.0, :belief =&gt; Dict(46 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 101.34183740700917, :noise_term =&gt; -2, :node_index =&gt; 47, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(19.917634574891608, 12.517634574891607), :u_thermal =&gt; 0.0, :belief =&gt; Dict(47 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.3, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 111.13296599050396, :noise_term =&gt; 0, :node_index =&gt; 48, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(12.517634574891607, 8.217634574891608), :u_thermal =&gt; 0.0, :belief =&gt; Dict(48 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 50.90518886380621, :noise_term =&gt; 5, :node_index =&gt; 49, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(8.217634574891608, 8.01763457489161), :u_thermal =&gt; 0.0, :belief =&gt; Dict(49 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.1, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 55.73845702811663, :noise_term =&gt; 0, :node_index =&gt; 50, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(8.01763457489161, 3.9176345748916095), :u_thermal =&gt; 0.0, :belief =&gt; Dict(50 =&gt; 1.0)…), Dict(:u_flow =&gt; 4.9176345748916095, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 60.52000000000001, :noise_term =&gt; -2, :node_index =&gt; 51, :stage_objective =&gt; 36.85786802441851, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(3.9176345748916095, 0.0), :u_thermal =&gt; 2.0823654251083905, :belief =&gt; Dict(51 =&gt; 1.0)…), Dict(:u_flow =&gt; 3.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 0, :node_index =&gt; 52, :stage_objective =&gt; 71.2, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(0.0, 0.0), :u_thermal =&gt; 4.0, :belief =&gt; Dict(52 =&gt; 1.0)…)]
 [Dict(:u_flow =&gt; 0.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 205.42576159800092, :noise_term =&gt; 0, :node_index =&gt; 1, :stage_objective =&gt; 71.39999999999999, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(300.0, 303.0), :u_thermal =&gt; 7.0, :belief =&gt; Dict(1 =&gt; 1.0)…), Dict(:u_flow =&gt; 1.0485870427974078, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 151.85471144684607, :noise_term =&gt; 0, :node_index =&gt; 2, :stage_objective =&gt; 62.93469475490755, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.0, 303.95141295720265), :u_thermal =&gt; 6.051412957202649, :belief =&gt; Dict(2 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 160.81132128844683, :noise_term =&gt; 0, :node_index =&gt; 3, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.95141295720265, 299.75141295720266), :u_thermal =&gt; 0.0, :belief =&gt; Dict(3 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.3, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 119.60399531532266, :noise_term =&gt; 5, :node_index =&gt; 4, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(299.75141295720266, 299.45141295720265), :u_thermal =&gt; 0.0, :belief =&gt; Dict(4 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 126.67522647280657, :noise_term =&gt; 0, :node_index =&gt; 5, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(299.45141295720265, 295.0514129572027), :u_thermal =&gt; 0.0, :belief =&gt; Dict(5 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 134.82283967481453, :noise_term =&gt; 0, :node_index =&gt; 6, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(295.0514129572027, 289.45141295720265), :u_thermal =&gt; 0.0, :belief =&gt; Dict(6 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 164.08921456049848, :noise_term =&gt; -2, :node_index =&gt; 7, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(289.45141295720265, 282.65141295720264), :u_thermal =&gt; 0.0, :belief =&gt; Dict(7 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 195.76147222619102, :noise_term =&gt; -2, :node_index =&gt; 8, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(282.65141295720264, 274.5514129572026), :u_thermal =&gt; 0.0, :belief =&gt; Dict(8 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 229.63756632207742, :noise_term =&gt; -2, :node_index =&gt; 9, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(274.5514129572026, 267.2514129572026), :u_thermal =&gt; 0.0, :belief =&gt; Dict(9 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.6, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 265.817694270364, :noise_term =&gt; -2, :node_index =&gt; 10, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(267.2514129572026, 258.6514129572026), :u_thermal =&gt; 0.0, :belief =&gt; Dict(10 =&gt; 1.0)…)  …  Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 0.002051904837273355, :noise_term =&gt; -2, :node_index =&gt; 43, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(66.50333809083502, 58.203338090832766), :u_thermal =&gt; 0.0, :belief =&gt; Dict(43 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 5, :node_index =&gt; 44, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(58.203338090832766, 58.10333809083277), :u_thermal =&gt; 0.0, :belief =&gt; Dict(44 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 0, :node_index =&gt; 45, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(58.10333809083277, 52.303338090832774), :u_thermal =&gt; 0.0, :belief =&gt; Dict(45 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 0, :node_index =&gt; 46, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(52.303338090832774, 47.70333809083277), :u_thermal =&gt; 0.0, :belief =&gt; Dict(46 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 0, :node_index =&gt; 47, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(47.70333809083277, 42.303338090832774), :u_thermal =&gt; 0.0, :belief =&gt; Dict(47 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.3, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 5, :node_index =&gt; 48, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(42.303338090832774, 43.00333809083278), :u_thermal =&gt; 0.0, :belief =&gt; Dict(48 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 5, :node_index =&gt; 49, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(43.00333809083278, 18.100000000000005), :u_thermal =&gt; 0.0, :belief =&gt; Dict(49 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.1, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 0, :node_index =&gt; 50, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(18.100000000000005, 14.000000000000005), :u_thermal =&gt; 0.0, :belief =&gt; Dict(50 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.0, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 0.0, :noise_term =&gt; -2, :node_index =&gt; 51, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(14.000000000000005, 5.999999999999998), :u_thermal =&gt; 0.0, :belief =&gt; Dict(51 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.0, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 0.0, :noise_term =&gt; -2, :node_index =&gt; 52, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(5.999999999999998, 0.0), :u_thermal =&gt; -0.0, :belief =&gt; Dict(52 =&gt; 1.0)…)]
 [Dict(:u_flow =&gt; 0.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 205.42576159800092, :noise_term =&gt; 0, :node_index =&gt; 1, :stage_objective =&gt; 71.39999999999999, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(300.0, 303.0), :u_thermal =&gt; 7.0, :belief =&gt; Dict(1 =&gt; 1.0)…), Dict(:u_flow =&gt; 0.0, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 161.77528113029257, :noise_term =&gt; -2, :node_index =&gt; 2, :stage_objective =&gt; 73.83999999999433, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.0, 302.99999999999886), :u_thermal =&gt; 7.099999999999454, :belief =&gt; Dict(2 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 192.0075595308631, :noise_term =&gt; -2, :node_index =&gt; 3, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(302.99999999999886, 296.7999999999989), :u_thermal =&gt; 0.0, :belief =&gt; Dict(3 =&gt; 1.0)…), Dict(:u_flow =&gt; 2.5562120145623437, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 171.3918588977515, :noise_term =&gt; -2, :node_index =&gt; 4, :stage_objective =&gt; 51.70728904127046, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(296.7999999999989, 294.24378798543654), :u_thermal =&gt; 4.743787985437656, :belief =&gt; Dict(4 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 128.80865024812556, :noise_term =&gt; 5, :node_index =&gt; 5, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(294.24378798543654, 294.84378798543656), :u_thermal =&gt; 0.0, :belief =&gt; Dict(5 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 136.87273321415114, :noise_term =&gt; 0, :node_index =&gt; 6, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(294.84378798543656, 289.24378798543654), :u_thermal =&gt; 0.0, :belief =&gt; Dict(6 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 96.65990065451206, :noise_term =&gt; 5, :node_index =&gt; 7, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(289.24378798543654, 289.44378798543653), :u_thermal =&gt; 0.0, :belief =&gt; Dict(7 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 63.84005949209177, :noise_term =&gt; 5, :node_index =&gt; 8, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(289.44378798543653, 288.3437879854365), :u_thermal =&gt; 0.0, :belief =&gt; Dict(8 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 85.14500245987574, :noise_term =&gt; -2, :node_index =&gt; 9, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(288.3437879854365, 281.0437879854365), :u_thermal =&gt; 0.0, :belief =&gt; Dict(9 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.6, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 109.23322022958428, :noise_term =&gt; -2, :node_index =&gt; 10, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(281.0437879854365, 272.4437879854365), :u_thermal =&gt; 0.0, :belief =&gt; Dict(10 =&gt; 1.0)…)  …  Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 51.213356301697644, :noise_term =&gt; -2, :node_index =&gt; 43, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(43.64378798543686, 35.34378798543625), :u_thermal =&gt; 0.0, :belief =&gt; Dict(43 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 57.0519447732642, :noise_term =&gt; 0, :node_index =&gt; 44, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(35.34378798543625, 30.24378798543625), :u_thermal =&gt; 0.0, :belief =&gt; Dict(44 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 84.8243663292363, :noise_term =&gt; -2, :node_index =&gt; 45, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(30.24378798543625, 22.44378798543625), :u_thermal =&gt; 0.0, :belief =&gt; Dict(45 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 93.40778096856559, :noise_term =&gt; 0, :node_index =&gt; 46, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(22.44378798543625, 17.84378798543625), :u_thermal =&gt; 0.0, :belief =&gt; Dict(46 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 102.37511321290683, :noise_term =&gt; 0, :node_index =&gt; 47, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(17.84378798543625, 12.44378798543625), :u_thermal =&gt; 0.0, :belief =&gt; Dict(47 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.3, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 47.624013596467734, :noise_term =&gt; 5, :node_index =&gt; 48, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(12.44378798543625, 13.143787985436251), :u_thermal =&gt; 0.0, :belief =&gt; Dict(48 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 78.31449874255772, :noise_term =&gt; -2, :node_index =&gt; 49, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(13.143787985436251, 5.943787985436251), :u_thermal =&gt; 0.0, :belief =&gt; Dict(49 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.1, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 25.03648119102502, :noise_term =&gt; 5, :node_index =&gt; 50, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(5.943787985436251, 6.843787985436252), :u_thermal =&gt; 0.0, :belief =&gt; Dict(50 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.000000000000001, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 5, :node_index =&gt; 51, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(6.843787985436252, 6.000000000000001), :u_thermal =&gt; 0.0, :belief =&gt; Dict(51 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 0, :node_index =&gt; 52, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(6.000000000000001, 2.0), :u_thermal =&gt; 0.0, :belief =&gt; Dict(52 =&gt; 1.0)…)]
 [Dict(:u_flow =&gt; 0.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 205.42576159800092, :noise_term =&gt; 0, :node_index =&gt; 1, :stage_objective =&gt; 71.39999999999999, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(300.0, 303.0), :u_thermal =&gt; 7.0, :belief =&gt; Dict(1 =&gt; 1.0)…), Dict(:u_flow =&gt; 6.048587042797343, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 151.85471144684607, :noise_term =&gt; 5, :node_index =&gt; 2, :stage_objective =&gt; 10.934694754907547, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.0, 303.95141295720265), :u_thermal =&gt; 1.0514129572026487, :belief =&gt; Dict(2 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 111.12652506249788, :noise_term =&gt; 5, :node_index =&gt; 3, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.95141295720265, 304.75141295720266), :u_thermal =&gt; 0.0, :belief =&gt; Dict(3 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.3, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 119.60399531532266, :noise_term =&gt; 0, :node_index =&gt; 4, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(304.75141295720266, 299.45141295720265), :u_thermal =&gt; 0.0, :belief =&gt; Dict(4 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 147.22597002905377, :noise_term =&gt; -2, :node_index =&gt; 5, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(299.45141295720265, 293.0514129572027), :u_thermal =&gt; 0.0, :belief =&gt; Dict(5 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 177.14558730709314, :noise_term =&gt; -2, :node_index =&gt; 6, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(293.0514129572027, 285.45141295720265), :u_thermal =&gt; 0.0, :belief =&gt; Dict(6 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 186.62373816762283, :noise_term =&gt; 0, :node_index =&gt; 7, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(285.45141295720265, 280.65141295720264), :u_thermal =&gt; 0.0, :belief =&gt; Dict(7 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 219.7007796816133, :noise_term =&gt; -2, :node_index =&gt; 8, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(280.65141295720264, 272.5514129572026), :u_thermal =&gt; 0.0, :belief =&gt; Dict(8 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 229.63756632207787, :noise_term =&gt; 0, :node_index =&gt; 9, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(272.5514129572026, 267.2514129572026), :u_thermal =&gt; 0.0, :belief =&gt; Dict(9 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.6, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 180.83470190267735, :noise_term =&gt; 5, :node_index =&gt; 10, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(267.2514129572026, 265.6514129572026), :u_thermal =&gt; 0.0, :belief =&gt; Dict(10 =&gt; 1.0)…)  …  Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 102.45888430973447, :noise_term =&gt; -2, :node_index =&gt; 43, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(38.85141295720405, 30.551412957202718), :u_thermal =&gt; 0.0, :belief =&gt; Dict(43 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 110.38156856248298, :noise_term =&gt; 0, :node_index =&gt; 44, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(30.551412957202718, 25.451412957202713), :u_thermal =&gt; 0.0, :belief =&gt; Dict(44 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 60.55947302380315, :noise_term =&gt; 5, :node_index =&gt; 45, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(25.451412957202713, 24.651412957202712), :u_thermal =&gt; 0.0, :belief =&gt; Dict(45 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 66.96526082637939, :noise_term =&gt; 0, :node_index =&gt; 46, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(24.651412957202712, 20.051412957202714), :u_thermal =&gt; 0.0, :belief =&gt; Dict(46 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 99.4699843287059, :noise_term =&gt; -2, :node_index =&gt; 47, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(20.051412957202714, 12.651412957202714), :u_thermal =&gt; 0.0, :belief =&gt; Dict(47 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.3, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 109.11751476251914, :noise_term =&gt; 0, :node_index =&gt; 48, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(12.651412957202714, 8.351412957202715), :u_thermal =&gt; 0.0, :belief =&gt; Dict(48 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 49.385600219134375, :noise_term =&gt; 5, :node_index =&gt; 49, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(8.351412957202715, 8.151412957202716), :u_thermal =&gt; 0.0, :belief =&gt; Dict(49 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.1, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 53.9743914611165, :noise_term =&gt; 0, :node_index =&gt; 50, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(8.151412957202716, 4.051412957202716), :u_thermal =&gt; 0.0, :belief =&gt; Dict(50 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 59.87939455325416, :noise_term =&gt; 0, :node_index =&gt; 51, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(4.051412957202716, 0.051412957202716214), :u_thermal =&gt; 0.0, :belief =&gt; Dict(51 =&gt; 1.0)…), Dict(:u_flow =&gt; 1.0514129572027162, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 0.0, :noise_term =&gt; -2, :node_index =&gt; 52, :stage_objective =&gt; 105.88484936179165, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(0.051412957202716214, 0.0), :u_thermal =&gt; 5.948587042797284, :belief =&gt; Dict(52 =&gt; 1.0)…)]
 [Dict(:u_flow =&gt; 0.0, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 226.26383644201405, :noise_term =&gt; -2, :node_index =&gt; 1, :stage_objective =&gt; 71.39999999999999, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(300.0, 301.0), :u_thermal =&gt; 7.0, :belief =&gt; Dict(1 =&gt; 1.0)…), Dict(:u_flow =&gt; 0.0, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 161.77528113028347, :noise_term =&gt; 0, :node_index =&gt; 2, :stage_objective =&gt; 73.84000000000378, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(301.0, 302.9999999999998), :u_thermal =&gt; 7.100000000000364, :belief =&gt; Dict(2 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 170.86769283326157, :noise_term =&gt; 0, :node_index =&gt; 3, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(302.9999999999998, 298.7999999999998), :u_thermal =&gt; 0.0, :belief =&gt; Dict(3 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.3, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 128.92763091984625, :noise_term =&gt; 5, :node_index =&gt; 4, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(298.7999999999998, 298.4999999999998), :u_thermal =&gt; 0.0, :belief =&gt; Dict(4 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 157.0020918788373, :noise_term =&gt; -2, :node_index =&gt; 5, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(298.4999999999998, 292.0999999999998), :u_thermal =&gt; 0.0, :belief =&gt; Dict(5 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 187.5832823223709, :noise_term =&gt; -2, :node_index =&gt; 6, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(292.0999999999998, 284.4999999999998), :u_thermal =&gt; 0.0, :belief =&gt; Dict(6 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 197.6243381247964, :noise_term =&gt; 0, :node_index =&gt; 7, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(284.4999999999998, 279.69999999999976), :u_thermal =&gt; 0.0, :belief =&gt; Dict(7 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 151.4595225833109, :noise_term =&gt; 5, :node_index =&gt; 8, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(279.69999999999976, 278.59999999999974), :u_thermal =&gt; 0.0, :belief =&gt; Dict(8 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 159.9453294708046, :noise_term =&gt; 0, :node_index =&gt; 9, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(278.59999999999974, 273.2999999999997), :u_thermal =&gt; 0.0, :belief =&gt; Dict(9 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.6, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 191.88285657512597, :noise_term =&gt; -2, :node_index =&gt; 10, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(273.2999999999997, 264.6999999999997), :u_thermal =&gt; 0.0, :belief =&gt; Dict(10 =&gt; 1.0)…)  …  Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 0.24989011433897446, :noise_term =&gt; -2, :node_index =&gt; 43, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(60.899999999998364, 52.600000000010446), :u_thermal =&gt; 0.0, :belief =&gt; Dict(43 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 0.1659266693980854, :noise_term =&gt; 0, :node_index =&gt; 44, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(52.600000000010446, 47.500000000010445), :u_thermal =&gt; 0.0, :belief =&gt; Dict(44 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 0.08421553799957948, :noise_term =&gt; 0, :node_index =&gt; 45, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(47.500000000010445, 41.70000000001045), :u_thermal =&gt; 0.0, :belief =&gt; Dict(45 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 0.24784541999889598, :noise_term =&gt; -2, :node_index =&gt; 46, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(41.70000000001045, 35.100000000010446), :u_thermal =&gt; 0.0, :belief =&gt; Dict(46 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 0.716574599996548, :noise_term =&gt; -2, :node_index =&gt; 47, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(35.100000000010446, 27.700000000010448), :u_thermal =&gt; 0.0, :belief =&gt; Dict(47 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.3, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 0.2739419999984918, :noise_term =&gt; 0, :node_index =&gt; 48, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(27.700000000010448, 23.400000000010447), :u_thermal =&gt; 0.0, :belief =&gt; Dict(48 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 0, :node_index =&gt; 49, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(23.400000000010447, 18.200000000010448), :u_thermal =&gt; 0.0, :belief =&gt; Dict(49 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.1, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 5, :node_index =&gt; 50, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(18.200000000010448, 19.100000000010446), :u_thermal =&gt; 0.0, :belief =&gt; Dict(50 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 0, :node_index =&gt; 51, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(19.100000000010446, 15.100000000010446), :u_thermal =&gt; 0.0, :belief =&gt; Dict(51 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.0, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 5, :node_index =&gt; 52, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(15.100000000010446, 16.100000000010446), :u_thermal =&gt; 0.0, :belief =&gt; Dict(52 =&gt; 1.0)…)]
 [Dict(:u_flow =&gt; 0.0, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 153.33057448796671, :noise_term =&gt; 5, :node_index =&gt; 1, :stage_objective =&gt; 71.39999999999999, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(300.0, 308.0), :u_thermal =&gt; 7.0, :belief =&gt; Dict(1 =&gt; 1.0)…), Dict(:u_flow =&gt; 6.048587042798317, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 151.85471144684607, :noise_term =&gt; 0, :node_index =&gt; 2, :stage_objective =&gt; 10.934694754907547, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(308.0, 303.95141295720265), :u_thermal =&gt; 1.0514129572026487, :belief =&gt; Dict(2 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.2, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 111.12652506249788, :noise_term =&gt; 5, :node_index =&gt; 3, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(303.95141295720265, 304.75141295720266), :u_thermal =&gt; 0.0, :belief =&gt; Dict(3 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.3, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 119.60399531532266, :noise_term =&gt; 0, :node_index =&gt; 4, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(304.75141295720266, 299.45141295720265), :u_thermal =&gt; 0.0, :belief =&gt; Dict(4 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 147.22597002905377, :noise_term =&gt; -2, :node_index =&gt; 5, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(299.45141295720265, 293.0514129572027), :u_thermal =&gt; 0.0, :belief =&gt; Dict(5 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.6, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 177.14558730709314, :noise_term =&gt; -2, :node_index =&gt; 6, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(293.0514129572027, 285.45141295720265), :u_thermal =&gt; 0.0, :belief =&gt; Dict(6 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 8.0, :bellman_term =&gt; 133.39555314722656, :noise_term =&gt; 5, :node_index =&gt; 7, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(285.45141295720265, 285.65141295720264), :u_thermal =&gt; 0.0, :belief =&gt; Dict(7 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 141.3630512422078, :noise_term =&gt; 0, :node_index =&gt; 8, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(285.65141295720264, 279.5514129572026), :u_thermal =&gt; 0.0, :belief =&gt; Dict(8 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 171.84918249043767, :noise_term =&gt; -2, :node_index =&gt; 9, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(279.5514129572026, 272.2514129572026), :u_thermal =&gt; 0.0, :belief =&gt; Dict(9 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.6, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 127.38376388689039, :noise_term =&gt; 5, :node_index =&gt; 10, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(272.2514129572026, 270.6514129572026), :u_thermal =&gt; 0.0, :belief =&gt; Dict(10 =&gt; 1.0)…)  …  Dict(:u_flow =&gt; 8.3, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 270.48147429685474, :noise_term =&gt; 5, :node_index =&gt; 43, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(20.851412957207387, 19.551412957211), :u_thermal =&gt; 0.0, :belief =&gt; Dict(43 =&gt; 1.0)…), Dict(:u_flow =&gt; 8.1, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 320.1675220184452, :noise_term =&gt; -2, :node_index =&gt; 44, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(19.551412957211, 12.451412957211), :u_thermal =&gt; 0.0, :belief =&gt; Dict(44 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.8, :ω_inflow =&gt; 0.0, :bellman_term =&gt; 370.55795552242836, :noise_term =&gt; -2, :node_index =&gt; 45, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(12.451412957211, 4.651412957211), :u_thermal =&gt; 0.0, :belief =&gt; Dict(45 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.251412957212724, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 380.1948120000322, :noise_term =&gt; 0, :node_index =&gt; 46, :stage_objective =&gt; 6.100273248777312, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(4.651412957211, 0.3999999999982755), :u_thermal =&gt; 0.348587042787275, :belief =&gt; Dict(46 =&gt; 1.0)…), Dict(:u_flow =&gt; 7.4, :ω_inflow =&gt; 7.0, :bellman_term =&gt; 308.44481200003224, :noise_term =&gt; 5, :node_index =&gt; 47, :stage_objective =&gt; 0.0, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(0.3999999999982755, -1.7248424910576432e-12), :u_thermal =&gt; 0.0, :belief =&gt; Dict(47 =&gt; 1.0)…), Dict(:u_flow =&gt; 0.7999999999996464, :ω_inflow =&gt; 1.0, :bellman_term =&gt; 245.4294399999941, :noise_term =&gt; -2, :node_index =&gt; 48, :stage_objective =&gt; 113.75000000000604, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(0.0, 0.20000000000034568), :u_thermal =&gt; 6.5000000000003455, :belief =&gt; Dict(48 =&gt; 1.0)…), Dict(:u_flow =&gt; 2.2000000000003457, :ω_inflow =&gt; 2.0, :bellman_term =&gt; 173.67944, :noise_term =&gt; 0, :node_index =&gt; 49, :stage_objective =&gt; 87.49999999999396, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(0.20000000000034568, 0.0), :u_thermal =&gt; 4.9999999999996545, :belief =&gt; Dict(49 =&gt; 1.0)…), Dict(:u_flow =&gt; 3.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 116.96200000000002, :noise_term =&gt; 0, :node_index =&gt; 50, :stage_objective =&gt; 72.16, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(0.0, 0.0), :u_thermal =&gt; 4.1, :belief =&gt; Dict(50 =&gt; 1.0)…), Dict(:u_flow =&gt; 3.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 60.519999999999996, :noise_term =&gt; 0, :node_index =&gt; 51, :stage_objective =&gt; 70.8, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(0.0, 0.0), :u_thermal =&gt; 4.0, :belief =&gt; Dict(51 =&gt; 1.0)…), Dict(:u_flow =&gt; 3.0, :ω_inflow =&gt; 3.0, :bellman_term =&gt; 0.0, :noise_term =&gt; 0, :node_index =&gt; 52, :stage_objective =&gt; 71.2, :objective_state =&gt; nothing, :x_storage =&gt; SDDP.State{Float64}(0.0, 0.0), :u_thermal =&gt; 4.0, :belief =&gt; Dict(52 =&gt; 1.0)…)]</code></pre><p>And let&#39;s plot the use of thermal generation in each replication:</p><pre><code class="language-julia hljs">plot = Plots.plot(data[!, :demand]; label = &quot;Demand&quot;, xlabel = &quot;Week&quot;)
for simulation in simulations
    Plots.plot!(plot, [sim[:u_thermal] for sim in simulation], label = &quot;&quot;)
end
plot</code></pre><img src="acaee9f8.svg" alt="Example block output"/><p>Viewing an interpreting static plots like this is difficult, particularly as the number of simulations grows. SDDP.jl includes an interactive <code>SpaghettiPlot</code> that makes things easier:</p><pre><code class="language-julia hljs">plot = SDDP.SpaghettiPlot(simulations)
SDDP.add_spaghetti(plot; title = &quot;Storage&quot;) do sim
    return sim[:x_storage].out
end
SDDP.add_spaghetti(plot; title = &quot;Hydro&quot;) do sim
    return sim[:u_flow]
end
SDDP.add_spaghetti(plot; title = &quot;Inflow&quot;) do sim
    return sim[:ω_inflow]
end
SDDP.plot(
    plot,
    &quot;spaghetti_plot.html&quot;;
    # We need this to build the documentation. Set to true if running locally.
    open = false,
)</code></pre><iframe src="../spaghetti_plot.html" style="width:100%;height:500px;"></iframe><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>If you have trouble viewing the plot, you can <a href="../spaghetti_plot.html">open it in a new window</a>.</p></div></div><h2 id="Next-steps"><a class="docs-heading-anchor" href="#Next-steps">Next steps</a><a id="Next-steps-1"></a><a class="docs-heading-anchor-permalink" href="#Next-steps" title="Permalink"></a></h2><p>Take this model and modify it following the suggestions below. The SDDP.jl documentation has a range of similar examples and hints for how to achieve them.</p><h3 id="Terminal-value-functions"><a class="docs-heading-anchor" href="#Terminal-value-functions">Terminal value functions</a><a id="Terminal-value-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Terminal-value-functions" title="Permalink"></a></h3><p>The model ends with an empty reservoir. That isn&#39;t ideal for the following year. Can you modify the objective in the final stage to encourage ending the year with a full reservoir?</p><p>You might write some variation of:</p><pre><code class="language-julia hljs">if t == 52
    @variable(sp, terminal_cost_function &gt;= 0)
    @constraint(sp, terminal_cost_function &gt;= reservoir_initial - x_storage.out)
    @stageobjective(sp, data[t, :cost] * u_thermal + terminal_cost_function)
else
    @stageobjective(sp, data[t, :cost] * u_thermal)
end</code></pre><h3 id="Higher-fidelity-modeling"><a class="docs-heading-anchor" href="#Higher-fidelity-modeling">Higher fidelity modeling</a><a id="Higher-fidelity-modeling-1"></a><a class="docs-heading-anchor-permalink" href="#Higher-fidelity-modeling" title="Permalink"></a></h3><p>Our model is very basic. There are many aspects that we could improve:</p><ul><li><p>Instead of hard-coding a terminal value function, can you solve an infinite horizon model? What are the differences?</p></li><li><p>Can you add a second reservoir to make a river chain?</p></li><li><p>Can you modify the problem and data to use proper units, including a conversion between the volume of water flowing through the turbine and the electrical power output?</p></li><li><p>Can you add random demand or cost data as well as inflows?</p></li></ul><h3 id="Algorithmic-considerations"><a class="docs-heading-anchor" href="#Algorithmic-considerations">Algorithmic considerations</a><a id="Algorithmic-considerations-1"></a><a class="docs-heading-anchor-permalink" href="#Algorithmic-considerations" title="Permalink"></a></h3><p>The algorithm implemented by SDDP.jl has a number of tuneable parameters:</p><ul><li><p>Try using a different lower bound. What happens if it is too low, or too high?</p></li><li><p>Was our stopping rule correct? What happens if we use fewer or more iterations? What other stopping rules could you try?</p></li><li><p>Can you add a risk measure to make the policy risk-averse?</p></li></ul><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../example_newsvendor/">« Example: Two-stage Newsvendor</a><a class="docs-footer-nextpage" href="../example_milk_producer/">Example: the milk producer »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.0.1 on <span class="colophon-date" title="Saturday 23 September 2023 02:18">Saturday 23 September 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
